!function(e,i,n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(t,e,i),t.mobile}):n(e.jQuery,e,i)}(this,document,function(t,e,n){var i,r;t.mobile={},r={touch:"ontouchend"in n},(i=t).mobile.support=i.mobile.support||{},i.extend(i.support,r),i.extend(i.mobile.support,r),function(d,t,e,p){function _(t){for(;t&&"undefined"!=typeof t.originalEvent;)t=t.originalEvent;return t}function r(t,e){var i,n,r,o,s,a,h,u,l,c=t.type;if((t=d.Event(t)).type=e,i=t.originalEvent,n=d.event.props,-1<c.search(/^(mouse|click)/)&&(n=M),i)for(h=n.length;h;)t[o=n[--h]]=i[o];if(-1<c.search(/mouse(down|up)|click/)&&!t.which&&(t.which=1),-1!==c.search(/^touch/)&&(c=(r=_(i)).touches,s=r.changedTouches,a=c&&c.length?c[0]:s&&s.length?s[0]:p))for(u=0,l=C.length;u<l;u++)t[o=C[u]]=a[o];return t}function o(t){for(var e,i,n={};t;){for(i in e=d.data(t,S))e[i]&&(n[i]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function s(t,e){for(var i;t;){if((i=d.data(t,S))&&(!e||i[e]))return t;t=t.parentNode}return null}function i(){z=!1}function a(){z=!0}function n(){V=0,A.length=0,O=!1,a()}function h(){i()}function u(){l(),I=setTimeout(function(){I=0,n()},d.vmouse.resetTimerDuration)}function l(){I&&(clearTimeout(I),I=0)}function c(t,e,i){var n;return(i&&i[t]||!i&&s(e.target,t))&&(n=r(e,t),d(e.target).trigger(n)),n}function f(t){var e=d.data(t.target,T);if(!(O||V&&V===e)){var i=c("v"+t.type,t);i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function g(t){var e,i,n=_(t).touches;if(n&&1===n.length&&(i=o(e=t.target)).hasVirtualBinding){V=j++,d.data(e,T,V),l(),h(),H=!1;var r=_(t).touches[0];F=r.pageX,$=r.pageY,c("vmouseover",t,i),c("vmousedown",t,i)}}function m(t){z||(H||c("vmousecancel",t,o(t.target)),H=!0,u())}function v(t){if(!z){var e=_(t).touches[0],i=H,n=d.vmouse.moveDistanceThreshold,r=o(t.target);(H=H||Math.abs(e.pageX-F)>n||Math.abs(e.pageY-$)>n)&&!i&&c("vmousecancel",t,r),c("vmousemove",t,r),u()}}function w(t){if(!z){a();var e,i=o(t.target);if(c("vmouseup",t,i),!H){var n=c("vclick",t,i);n&&n.isDefaultPrevented()&&(e=_(t).changedTouches[0],A.push({touchID:V,x:e.clientX,y:e.clientY}),O=!0)}c("vmouseout",t,i),H=!1,u()}}function y(t){var e,i=d.data(t,S);if(i)for(e in i)if(i[e])return!0;return!1}function b(){}function P(i){var n=i.substr(1);return{setup:function(){y(this)||d.data(this,S,{}),d.data(this,S)[i]=!0,k[i]=(k[i]||0)+1,1===k[i]&&B.bind(n,f),d(this).bind(n,b),N&&(k.touchstart=(k.touchstart||0)+1,1===k.touchstart&&B.bind("touchstart",g).bind("touchend",w).bind("touchmove",v).bind("scroll",m))},teardown:function(){--k[i],k[i]||B.unbind(n,f),N&&(--k.touchstart,k.touchstart||B.unbind("touchstart",g).unbind("touchmove",v).unbind("touchend",w).unbind("scroll",m));var t=d(this),e=d.data(this,S);e&&(e[i]=!1),t.unbind(n,b),y(this)||t.removeData(S)}}}var x,S="virtualMouseBindings",T="virtualTouchID",D="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),E=d.event.mouseHooks?d.event.mouseHooks.props:[],M=d.event.props.concat(E),k={},I=0,F=0,$=0,H=!1,A=[],O=!1,z=!1,N="addEventListener"in e,B=d(e),j=1,V=0;d.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var L=0;L<D.length;L++)d.event.special[D[L]]=P(D[L]);N&&e.addEventListener("click",function(t){var e,i,n,r,o,s=A.length,a=t.target;if(s)for(e=t.clientX,i=t.clientY,x=d.vmouse.clickDistanceThreshold,n=a;n;){for(r=0;r<s;r++)if(o=A[r],0,n===a&&Math.abs(o.x-e)<x&&Math.abs(o.y-i)<x||d.data(n,T)===o.touchID)return t.preventDefault(),void t.stopPropagation();n=n.parentNode}},!0)}(t,0,n),function(h,t,o){function u(t,e,i){var n=i.type;i.type=e,h.event.dispatch.call(t,i),i.type=n}var l=h(n);h.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,e){h.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)},h.attrFn&&(h.attrFn[e]=!0)});var e=h.mobile.support.touch,s="touchmove scroll",i=e?"touchstart":"mousedown",a=e?"touchend":"mouseup",c=e?"touchmove":"mousemove";h.event.special.scrollstart={enabled:!0,setup:function(){function e(t,e){u(r,(i=e)?"scrollstart":"scrollstop",t)}var i,n,r=this;h(r).bind(s,function(t){h.event.special.scrollstart.enabled&&(i||e(t,!0),clearTimeout(n),n=setTimeout(function(){e(t,!1)},50))})}},h.event.special.tap={tapholdThreshold:750,setup:function(){var s=this,a=h(s);a.bind("vmousedown",function(t){function e(){clearTimeout(r)}function i(){e(),a.unbind("vclick",n).unbind("vmouseup",e),l.unbind("vmousecancel",i)}function n(t){i(),o===t.target&&u(s,"tap",t)}if(t.which&&1!==t.which)return!1;var r,o=t.target;t.originalEvent;a.bind("vmouseup",e).bind("vclick",n),l.bind("vmousecancel",i),r=setTimeout(function(){u(s,"taphold",h.Event("taphold",{target:o}))},h.event.special.tap.tapholdThreshold)})}},h.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[e.pageX,e.pageY],origin:h(t.target)}},stop:function(t){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[e.pageX,e.pageY]}},handleSwipe:function(t,e){e.time-t.time<h.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-e.coords[0])>h.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-e.coords[1])<h.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>e.coords[0]?"swipeleft":"swiperight")},setup:function(){var r=h(this);r.bind(i,function(t){function e(t){n&&(i=h.event.special.swipe.stop(t),Math.abs(n.coords[0]-i.coords[0])>h.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var i,n=h.event.special.swipe.start(t);r.bind(c,e).one(a,function(){r.unbind(c,e),n&&i&&h.event.special.swipe.handleSwipe(n,i),n=i=o})})}},h.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,e){h.event.special[t]={setup:function(){h(this).bind(e,h.noop)}}})}(t)}),function(){$(function(){return $.event.special.swipe.start=function(t){var e,i;return e=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=t.originalEvent.touches?t.originalEvent.touches.length:0,{time:(new Date).getTime(),coords:[e.pageX,e.pageY],origin:$(t.target),numTouches:i}},$.event.special.swipe.stop=function(t){var e,i;return e=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=t.originalEvent.touches?t.originalEvent.touches.length:0,{time:(new Date).getTime(),coords:[e.pageX,e.pageY],numTouches:i}},$.event.special.swipe.handleSwipe=function(t,e){if(!(1<t.numTouches||1<e.numTouches))return e.time-t.time<$.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-e.coords[0])>$.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-e.coords[1])<$.event.special.swipe.verticalDistanceThreshold?t.origin.trigger("swipe").trigger(t.coords[0]>e.coords[0]?"swipeleft":"swiperight"):void 0}})}.call(this);var Froogaloop=function(){function e(t){return new e.fn.init(t)}function a(t,e,i){if(!i.contentWindow.postMessage)return!1;var n=JSON.stringify({method:t,value:e});i.contentWindow.postMessage(n,d)}function t(t){var e,i;try{i=(e=JSON.parse(t.data)).event||e.method}catch(h){}if("ready"!=i||c||(c=!0),!/^https?:\/\/player.vimeo.com/.test(t.origin))return!1;"*"===d&&(d=t.origin);var n=e.value,r=e.data,o=""===o?null:e.player_id,s=u(i,o),a=[];return!!s&&(n!==undefined&&a.push(n),r&&a.push(r),o&&a.push(o),0<a.length?s.apply(null,a):s.call())}function h(t,e,i){i?(r[i]||(r[i]={}),r[i][t]=e):r[t]=e}function u(t,e){return e&&r[e]!=undefined?r[e][t]:r[t]}function n(t,e){if(e&&r[e]){if(!r[e][t])return!1;r[e][t]=null}else{if(!r[t])return!1;r[t]=null}return!0}function l(t){return!!(t&&t.constructor&&t.call&&t.apply)}var r={},c=!1,d=(Array.prototype.slice,"*");return e.fn=e.prototype={element:null,init:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.element=t,this},api:function(t,e){if(!this.element||!t)return!1;var i=this,n=i.element,r=""!==n.id?n.id:null,o=l(e)?null:e,s=l(e)?e:null;return s&&h(t,s,r),a(t,o,n),i},addEvent:function(t,e){if(!this.element)return!1;var i=this,n=i.element,r=""!==n.id?n.id:null;return h(t,e,r),"ready"!=t?a("addEventListener",t,n):"ready"==t&&c&&e.call(null,r),i},removeEvent:function(t){if(!this.element)return!1;var e=this.element,i=n(t,""!==e.id?e.id:null);"ready"!=t&&i&&a("removeEventListener",t,e)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t),window.Froogaloop=window.$f=e}(),ASSET_VERSION="2.1-react-production";!function webpackUniversalModuleDefinition(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(i){function n(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var r={};return n.m=i,n.c=r,n.p="",n(0)}([function(t,e,i){"use strict";function n(){var e=new s.HandlebarsEnvironment;return u.extend(e,s),e.SafeString=a["default"],e.Exception=h["default"],e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e}var r=i(1)["default"],o=i(2)["default"];e.__esModule=!0;var s=r(i(3)),a=o(i(17)),h=o(i(5)),u=r(i(4)),l=r(i(18)),c=o(i(19)),d=n();d.create=n,c["default"](d),d["default"]=d,e["default"]=d,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e},e.__esModule=!0},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,i){"use strict";function n(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},a.registerDefaultHelpers(this),h.registerDefaultDecorators(this)}var r=i(2)["default"];e.__esModule=!0,e.HandlebarsEnvironment=n;var o=i(4),s=r(i(5)),a=i(6),h=i(14),u=r(i(16)),l="4.0.5";e.VERSION=l;var c=7;e.COMPILER_REVISION=c;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=d;var p="[object Object]";n.prototype={constructor:n,logger:u["default"],log:u["default"].log,registerHelper:function f(t,e){if(o.toString.call(t)===p){if(e)throw new s["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function g(t){delete this.helpers[t]},registerPartial:function m(t,e){if(o.toString.call(t)===p)o.extend(this.partials,t);else{if(void 0===e)throw new s["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function v(t){delete this.partials[t]},registerDecorator:function w(t,e){if(o.toString.call(t)===p){if(e)throw new s["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function y(t){delete this.decorators[t]}};var _=u["default"].log;e.log=_,e.createFrame=o.createFrame,e.logger=u["default"]},function(t,e){"use strict";function i(t){return l[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function r(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(c,i):t}function s(t){return!t&&0!==t||!(!f(t)||0!==t.length)}function a(t){var e=n({},t);return e._parent=t,e}function h(t,e){return t.path=e,t}function u(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=n,e.indexOf=r,e.escapeExpression=o,e.isEmpty=s,e.createFrame=a,e.blockParams=h,e.appendContextPath=u;var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},c=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var _=function _(t){return"function"==typeof t};_(/x/)&&(e.isFunction=_=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=_;var f=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};e.isArray=f},function(t,e){"use strict";function a(t,e){var i=e&&e.loc,n=undefined,r=undefined;i&&(t+=" - "+(n=i.start.line)+":"+(r=i.start.column));for(var o=Error.prototype.constructor.call(this,t),s=0;s<h.length;s++)this[h[s]]=o[h[s]];Error.captureStackTrace&&Error.captureStackTrace(this,a),i&&(this.lineNumber=n,this.column=r)}e.__esModule=!0;var h=["description","fileName","lineNumber","message","name","number","stack"];a.prototype=new Error,e["default"]=a,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){o["default"](t),s["default"](t),a["default"](t),h["default"](t),u["default"](t),l["default"](t),c["default"](t)}var r=i(2)["default"];e.__esModule=!0,e.registerDefaultHelpers=n;var o=r(i(7)),s=r(i(8)),a=r(i(9)),h=r(i(10)),u=r(i(11)),l=r(i(12)),c=r(i(13))},function(t,e,i){"use strict";e.__esModule=!0;var s=i(4);e["default"]=function(o){o.registerHelper("blockHelperMissing",function(t,e){var i=e.inverse,n=e.fn;if(!0===t)return n(this);if(!1===t||null==t)return i(this);if(s.isArray(t))return 0<t.length?(e.ids&&(e.ids=[e.name]),o.helpers.each(t,e)):i(this);if(e.data&&e.ids){var r=s.createFrame(e.data);r.contextPath=s.appendContextPath(e.data.contextPath,e.name),e={data:r}}return n(t,e)})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(2)["default"];e.__esModule=!0;var d=i(4),p=n(i(5));e["default"]=function(t){t.registerHelper("each",function(n,t){function e(t,e,i){a&&(a.key=t,a.index=e,a.first=0===e,a.last=!!i,h&&(a.contextPath=h+t)),s+=r(n[t],{data:a,blockParams:d.blockParams([n[t],t],[h+t,null])})}if(!t)throw new p["default"]("Must pass iterator to #each");var r=t.fn,i=t.inverse,o=0,s="",a=undefined,h=undefined;if(t.data&&t.ids&&(h=d.appendContextPath(t.data.contextPath,t.ids[0])+"."),d.isFunction(n)&&(n=n.call(this)),t.data&&(a=d.createFrame(t.data)),n&&"object"==typeof n)if(d.isArray(n))for(var u=n.length;o<u;o++)o in n&&e(o,o,o===n.length-1);else{var l=undefined;for(var c in n)n.hasOwnProperty(c)&&(l!==undefined&&e(l,o-1),l=c,o++);l!==undefined&&e(l,o-1,!0)}return 0===o&&(s=i(this)),s})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(2)["default"];e.__esModule=!0;var r=n(i(5));e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return undefined;throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(4);e["default"]=function(i){i.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),i.registerHelper("unless",function(t,e){return i.helpers["if"].call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(r){r.registerHelper("log",function(){for(var t=[undefined],e=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var n=1;null!=e.hash.level?n=e.hash.level:e.data&&null!=e.data.level&&(n=e.data.level),t[0]=n,r.log.apply(r,t)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var r=i(4);e["default"]=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var i=e.fn;if(r.isEmpty(t))return e.inverse(this);var n=e.data;return e.data&&e.ids&&((n=r.createFrame(e.data)).contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:n,blockParams:r.blockParams([t],[n&&n.contextPath])})})},t.exports=e["default"]},function(t,e,i){"use strict";function n(t){o["default"](t)}var r=i(2)["default"];e.__esModule=!0,e.registerDefaultDecorators=n;var o=r(i(15))},function(t,e,i){"use strict";e.__esModule=!0;var a=i(4);e["default"]=function(t){t.registerDecorator("inline",function(r,o,s,t){var e=r;return o.partials||(o.partials={},e=function(t,e){var i=s.partials;s.partials=a.extend({},i,o.partials);var n=r(t,e);return s.partials=i,n}),o.partials[t.args[0]]=t.fn,e})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(4),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function r(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=0<=e?e:parseInt(t,10)}return t},log:function s(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}};e["default"]=o,t.exports=e["default"]},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){var e=t&&t[0]||1,i=l.COMPILER_REVISION;if(e!==i){if(e<i){var n=l.REVISION_CHANGES[i],r=l.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(a,h){function t(t,e,i){i.hash&&(e=g.extend({},e,i.hash),i.ids&&(i.ids[0]=!0)),t=h.VM.resolvePartial.call(this,t,e,i);var n=h.VM.invokePartial.call(this,t,e,i);if(null==n&&h.compile&&(i.partials[i.name]=h.compile(t,a.compilerOptions,h),n=i.partials[i.name](e,i)),null==n)throw new m["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode");if(i.indent){for(var r=n.split("\n"),o=0,s=r.length;o<s&&(r[o]||o+1!==s);o++)r[o]=i.indent+r[o];n=r.join("\n")}return n}function u(t,e){function i(t){return""+a.main(l,t,l.helpers,l.partials,r,s,o)}var n=arguments.length<=1||e===undefined?{}:arguments[1],r=n.data;u._setup(n),!n.partial&&a.useData&&(r=_(t,r));var o=undefined,s=a.useBlockParams?[]:undefined;return a.useDepths&&(o=n.depths?t!==n.depths[0]?[t].concat(n.depths):n.depths:[t]),(i=f(a.main,i,l,n.depths||[],r,s))(t,n)}if(!h)throw new m["default"]("No environment passed to template");if(!a||!a.main)throw new m["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,h.VM.checkRevision(a.compiler);var l={strict:function i(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function r(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function n(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:g.escapeExpression,invokePartial:t,fn:function o(t){var e=a[t];return e.decorator=a[t+"_d"],e},programs:[],program:function c(t,e,i,n,r){var o=this.programs[t],s=this.fn(t);return e||r||n||i?o=p(this,t,s,e,i,n,r):o||(o=this.programs[t]=p(this,t,s)),o},data:function s(t,e){for(;t&&e--;)t=t._parent;return t},merge:function d(t,e){var i=t||e;return t&&e&&t!==e&&(i=g.extend({},e,t)),i},noop:h.VM.noop,compilerInfo:a.compiler};return u.isTop=!0,u._setup=function(t){t.partial?(l.helpers=t.helpers,l.partials=t.partials,l.decorators=t.decorators):(l.helpers=l.merge(t.helpers,h.helpers),a.usePartial&&(l.partials=l.merge(t.partials,h.partials)),(a.usePartial||a.useDecorators)&&(l.decorators=l.merge(t.decorators,h.decorators)))},u._child=function(t,e,i,n){if(a.useBlockParams&&!i)throw new m["default"]("must pass block params");if(a.useDepths&&!n)throw new m["default"]("must pass parent depths");return p(l,t,a[t],e,0,i,n)},u}function p(r,t,o,s,e,a,h){function i(t,e){var i=arguments.length<=1||e===undefined?{}:arguments[1],n=h;return h&&t!==h[0]&&(n=[t].concat(h)),o(r,t,r.helpers,r.partials,i.data||s,a&&[i.blockParams].concat(a),n)}return(i=f(o,i,r,h,s,a)).program=t,i.depth=h?h.length:0,i.blockParams=e||0,i}function o(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t}function s(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=undefined;if(i.fn&&i.fn!==a&&(i.data=l.createFrame(i.data),(n=i.data["partial-block"]=i.fn).partials&&(i.partials=g.extend({},i.partials,n.partials))),t===undefined&&n&&(t=n),t===undefined)throw new m["default"]("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)}function a(){return""}function _(t,e){return e&&"root"in e||((e=e?l.createFrame(e):{}).root=t),e}function f(t,e,i,n,r,o){if(t.decorator){var s={};e=t.decorator(e,s,i,n&&n[0],r,o,n),g.extend(e,s)}return e}var h=i(1)["default"],u=i(2)["default"];e.__esModule=!0,e.checkRevision=n,e.template=r,e.wrapProgram=p,e.resolvePartial=o,e.invokePartial=s,e.noop=a;var g=h(i(4)),m=u(i(5)),l=i(3)},function(t,e){(function(n){"use strict";e.__esModule=!0,e["default"]=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e["default"]}).call(e,function(){return this}())}])}),function(){DS.Functions["export"](function(t){return t.ExternalResourceUrls={privacyPolicy:window.ENV.PRIVACY_POLICY_URL}})}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.cookie_disclosure_banner=Handlebars.template({1:function(){return"full-width full-min-width"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){var o,s;return"<div class='notification-banner notification-banner--cookie-disclosure js-cookie-disclosure-banner "+t.escapeExpression("function"==typeof(s=null!=(s=i.classes||(null!=e?e.classes:e))?s:i.helperMissing)?s.call(null!=e?e:{},{name:"classes",hash:{},data:r}):s)+"'>\n  <div class=\"fixed container-fluid--mobile "+(null!=(o=i["if"].call(null!=e?e:{},null!=e?e.page_bottom:e,{name:"if",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r}))?o:"")+"\">\n    <div class='notification-banner_content row m-0'>\n      <div class='col-xs-12 col-sm-10 notification-banner_text padding-reset'>\n        <div class='inline-block vertical-align-middle'>\n          DocSend uses cookies to enable our service and to improve your experience. For more info on the data we collect and how we use it, please read our\n          <a target='_blank' rel='noopener noreferrer' class='notification-banner_link' href='"+t.escapeExpression("function"==typeof(s=null!=(s=i.privacy_policy_url||(null!=e?e.privacy_policy_url:e))?s:i.helperMissing)?s.call(null!=e?e:{},{name:"privacy_policy_url",hash:{},data:r}):s)+"'>Privacy and Cookie policies.</a>\n        </div>\n      </div>\n      <div class='col-xs-12 col-sm-2 notification-banner_action-buttons'>\n        <button class='base-button base-button--small banner-button full-width--xs js-cookie-acceptance-button inline-block'>\n          Got it!\n        </button>\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates.cookie_disclosure_banner}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.document_field=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return"<div class='document-field js-document-field'>\n  <button type=\"button\" class='document-field_display document-field_display--editable js-document-field_editable-display'></button>\n  <input class='document-field_input js-document-field_input no-show'></input>\n</div>"},useData:!0}),this.HandlebarsTemplates.document_field}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.signed_document_field=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return"<div class='document-field'>\n  <div class='document-field_display document-field_display--static js-signed-document-field_display'></div>\n</div>"},useData:!0}),this.HandlebarsTemplates.signed_document_field}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.document_field_details=Handlebars.template({1:function(t,e,i,n,r){var o,s;return"    <div class='document-field_icon'>\n      "+(null!=(o="function"==typeof(s=null!=(s=i.icon||(null!=e?e.icon:e))?s:i.helperMissing)?s.call(null!=e?e:{},{name:"icon",hash:{},data:r}):s)?o:"")+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){var o,s;return"<div class='flex align-items-flex-end full-width'>\n"+(null!=(o=i["if"].call(null!=e?e:{},null!=e?e.icon:e,{name:"if",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r}))?o:"")+"  <div class='document-field_default-text'>\n    "+t.escapeExpression("function"==typeof(s=null!=(s=i.defaultText||(null!=e?e.defaultText:e))?s:i.helperMissing)?s.call(null!=e?e:{},{name:"defaultText",hash:{},data:r}):s)+"\n  </div>\n  <div class='document-field_hover-text ellipsize-text'>\n    "+t.escapeExpression("function"==typeof(s=null!=(s=i.hoverText||(null!=e?e.hoverText:e))?s:i.helperMissing)?s.call(null!=e?e:{},{name:"hoverText",hash:{},data:r}):s)+"\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates.document_field_details}.call(this),function(){var i,n,r=function(t,e){return function(){return t.apply(e,arguments)}};i=function(){function t(t,e){var i,n;null==e&&(e={}),this._setUserSelection=r(this._setUserSelection,this),this._initRichTextEditor=r(this._initRichTextEditor,this),this._setTextareaText=r(this._setTextareaText,this),this._getTextareaText=r(this._getTextareaText,this),this._publishTextarea=r(this._publishTextarea,this),this._onTextareaCollapsed=r(this._onTextareaCollapsed,this),this._collapseTextarea=r(this._collapseTextarea,this),this._expandTextarea=r(this._expandTextarea,this),this._handleTextAreaClick=r(this._handleTextAreaClick,this),this._hideEmptyOverlay=r(this._hideEmptyOverlay,this),this._showEmptyOverlay=r(this._showEmptyOverlay,this),this._focusTextarea=r(this._focusTextarea,this),this._resizeTextarea=r(this._resizeTextarea,this),this._showOverlay=r(this._showOverlay,this),this._hideOverlay=r(this._hideOverlay,this),this._syncTextarea=r(this._syncTextarea,this),this.collapse=r(this.collapse,this),this.expand=r(this.expand,this),this._options=e,this._textareaDiv=t,this._textarea=this._options.textarea,this._dataKey=this._options.dataKey||"new_text",this._options.overlay&&(this._overlay=this._options.overlay,this._options.richTextSupport||this._showOverlay(),this._overlay.click(this._expandTextarea)),this._options.emptyTextOverlay&&(this._emptyTextOverlay=this._options.emptyTextOverlay),this._options.inline&&(this._textareaDiv.text(this._textareaDiv.text().trim()),this._options.includePencil&&(i=$(DS.ClientSideSVGs.pencil).addClass("space-inline-s editable-text-area_pencil"),this._textareaDiv.append(i)),this._options.placeholderHTML&&this._textareaDiv.append(this._options.placeholderHTML)),this._prevHeight=this._textarea.height()+2,this._expanded=!1,this._textarea.keyup(this._resizeTextarea),this._textareaDiv.click(this._handleTextAreaClick),this._textareaDiv.keyup(function(t){if(32===t.keyCode||13===t.keyCode)return this._handleTextAreaClick}),this._options.richTextSupport||this._textarea.focusout(this._collapseTextarea),this._emptyTextOverlay&&this._emptyTextOverlay.click((n=this,function(){return n._textareaDiv.click()})),this._options.defaultValue&&this._setTextareaText(this._options.defaultValue,!1)}return t._MIN_HEIGHT=150,t._TEXTAREA_MIN_HEIGHT=32,t.prototype.expand=function(){return this._expandTextarea()},t.prototype.collapse=function(){return this._collapseTextarea()},t.prototype._syncTextarea=function(){var t;return t=this._getTextareaText(),this._publishTextarea(t)},t.prototype._hideOverlay=function(){if(this._overlay)return this._overlay.hide()},t.prototype._showOverlay=function(){if(this._overlay&&(this._textareaDiv[0].scrollHeight>this._textareaDiv.height()||this._textarea[0].scrollHeight>this._textarea.height()))return this._overlay.show()},t.prototype._resizeTextarea=function(t){var e;if(this._options.inline&&((e=this._textarea[0].scrollHeight)>this.constructor.MIN_HEIGHT&&e>this._textarea.height()&&this._textarea.css("height",e),t.which===DS.Keyboard.KeyCode.ENTER))return this._textarea.focusout()},t.prototype._focusTextarea=function(){var t,e,i,n;return i=this._textarea.attr("type"),this._textarea.attr("type","text"),t=this._textarea[0],this._options.inline?null!=t.setSelectionRange&&(this._options.selectAllOnFocus?t.setSelectionRange(0,t.value.length):this._selectedRange&&t.setSelectionRange(this._selectedRange.start,this._selectedRange.end)):(e=0,t.setSelectionRange?t.setSelectionRange(e,e):t.createTextRange&&((n=t.createTextRange()).moveStart("character",e),n.select())),this._textarea.focus(),this._textarea.attr("type",i)},t.prototype._showEmptyOverlay=function(){if(this._emptyTextOverlay)return this._emptyTextOverlay.fadeIn()},t.prototype._hideEmptyOverlay=function(){if(this._emptyTextOverlay)return this._emptyTextOverlay.fadeOut(100)},t.prototype._handleTextAreaClick=function(){return this._options.delegateExpandTextArea?DS.MessageBus.trigger("DS.EditableTextArea.clicked",this._textareaDiv):this._expandTextarea()},t.prototype._expandTextarea=function(){var t,e;if(this._setUserSelection(),!this._expanded&&(this._expanded=!0,this._hideEmptyOverlay(),this._hideOverlay(),this._textareaDiv.hide(),this._options.dynamicInputSize&&this._textarea.width(this._textareaDiv.width()),this._textarea.css("display","block"),this._focusTextarea(),this._prevHeight=this._textarea.height(),this._options.inline||(this._prevHeight=this._prevHeight+2),this._prevText=this._getTextareaText(),0===this._prevText.length&&this._focusTextarea(),this._textarea.removeClass("ellipsize-textarea"),t=this._textarea[0].scrollHeight,e=this._textareaDiv.height(),this._options.maxExpandHeight?(this._textarea.css("height",e+5),t=this._options.maxExpandHeight):t<=this.constructor._MIN_HEIGHT&&(t=this.constructor._MIN_HEIGHT),this._options.richTextSupport&&(t<e&&(t=e),this._initRichTextEditor(t)),!this._options.inline))return this._textarea.animate({height:t,"background-color":"rgba(255, 255, 255, 1)"},{duration:500})},t.prototype._collapseTextarea=function(){var t,e,i;return this._options.richTextSupport?0<(e=tinymce.activeEditor.getContent({format:"text"}).trim()).length&&(e=tinymce.activeEditor.getContent()):e=this._getTextareaText(),0===e.length&&this._emptyTextOverlay&&(this._prevHeight=this._emptyTextOverlay.height(),this._options.inline||(this._prevHeight=this._prevHeight+5)),this._expanded=!1,this._setTextareaText(e),this._publishTextarea(e),this._options.inline?this._onTextareaCollapsed(e):(this._prevHeight<this.constructor._TEXTAREA_MIN_HEIGHT&&(this._prevHeight=this.constructor._TEXTAREA_MIN_HEIGHT),this._options.collapseToContent?t=this._textareaDiv.height()+3:(this._textarea.css("min-height",this._prevHeight),t=this.constructor._TEXTAREA_MIN_HEIGHT),this._textarea.animate({height:t,"background-color":"rgba(255, 255, 255, 0)"},{duration:500,done:(i=this,function(){if(i._options.collapseToContent||(i._textareaDiv.css("min-height",i._prevHeight),i._textareaDiv.css("height",i._prevHeight)),DS.MessageBus.trigger("DS.EditableTextArea.blurred",i._textareaDiv),!i._options.richTextSupport)return i._onTextareaCollapsed(e)})}))},t.prototype._onTextareaCollapsed=function(t){return this._textarea.addClass("ellipsize-textarea"),this._showOverlay(),this._textareaDiv.show(),this._textarea.hide(),DS.MessageBus.trigger("DS.EditableTextArea.blurred",this._textareaDiv),0===t.length?this._showEmptyOverlay():this._hideEmptyOverlay()},t.prototype._publishTextarea=function(t){var e,i,n,r;if(t!==this._prevText&&!this._options.noURL){if(this._prevText=t,void 0!==(i=this._textareaDiv.attr("data-url"))&&0!==i.length||(i=this._options.url),void 0!==i&&0!==i.length)return(e={})[this._dataKey]=t,$.ajax({url:i,type:"PUT",dataType:"json",success:(r=this,function(t,e,i){if(null!=t&&(t.success&&r._options.success&&r._options.success(t),!t.success&&r._options.error))return r._options.error(t,i)}),error:(n=this,function(t){return n._options.error?n._options.error(t.responseJSON,t):DS.Flash.error(
"That action could not be completed. Please refresh the page and try again.")}),data:e});$.error("Please set a URL for your editable")}},t.prototype._getTextareaText=function(){return this._textarea.val().trim()},t.prototype._setTextareaText=function(t,e){var i,n;return null==e&&(e=!0),t!==this._textareaDiv.text()&&DS.MessageBus.trigger("DS.EditableTextArea.textChanged",{textareaDiv:this._textareaDiv,newText:t,userEntered:e}),this._textareaDiv.removeClass("with-content"),0===t.length?this._options.placeholderText?(i=this._options.placeholderText,this._textareaDiv.text(i)):this._options.placeholderHTML&&this._textareaDiv.html(this._options.placeholderHTML):(this._options.richTextSupport?this._textareaDiv.html(t):this._textareaDiv.text(t),this._textareaDiv.addClass("with-content")),this._options.includePencil&&(n=$(DS.ClientSideSVGs.pencil).addClass("space-inline-s editable-text-area_pencil"),this._textareaDiv.append(n)),this._textarea.val(t)},t.prototype._focusRichTextEditor=function(){return tinymce.activeEditor.focus()},t.prototype._initRichTextEditor=function(t){var i;return this._textarea.addClass("tinymce"),tinymce.init({selector:".tinymce",toolbar:!1,branding:!1,menubar:!1,statusbar:!1,plugins:"autolink",extended_valid_elements:"a[href|target=_blank|rel=noopener noreferrer]",auto_focus:"mce_0",element_format:"html",height:t,content_style:".mce-content-body { font-size:12px; font-family:'Open Sans',sans-serif; font-weight: 300; word-wrap: break-word; overflow-wrap: break-word; word-break: break-word; }",init_instance_callback:(i=this,function(t){var e;return $(t.getBody()).css({"padding-bottom":$(t.contentAreaContainer).outerHeight()-$(t.getBody()).outerHeight(!0)}),e=DS.Browser.isIOS()?"focusout":"blur",t.on(e,function(){var t;if(i._collapseTextarea(),t=tinymce.activeEditor.getContent({format:"text"}).trim(),tinymce.remove(),i._textareaDiv.show(),i._textarea.hide(),0===t.length)return i._textarea.addClass("ellipsize-textarea"),i._showOverlay(),i._showEmptyOverlay()}),$(t.getWin()).on("scroll",i._focusRichTextEditor.debounce(200)),t.on("click",function(t){var e;if("A"===t.target.nodeName)return null!=(e=window.open(t.target.href))?e.opener=null:void 0}),t.addShortcut("meta+shift+8","UnorderedList",function(){return t.execCommand("InsertUnorderedList")}),t.addShortcut("meta+shift+7","OrderedList",function(){return t.execCommand("InsertOrderedList")})})}),this._textarea.removeClass("tinymce")},t.prototype._setUserSelection=function(){return this._selectedRange={start:window.getSelection().anchorOffset,end:window.getSelection().focusOffset}},t}(),(n=jQuery).fn.makeEditableTextArea=function(t){var e;return e=n(this),this.editableTextArea=new i(e,t)}}.call(this),function(){var e,s=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function o(t){var e,i,n,r;this._presentation=t,this._pageDidChange=s(this._pageDidChange,this),this._pageWillChange=s(this._pageWillChange,this),this._queuePrev=s(this._queuePrev,this),this._queueNext=s(this._queueNext,this),this._scrollBy=s(this._scrollBy,this),this._zoomGesture=s(this._zoomGesture,this),this._mouseMoved=s(this._mouseMoved,this),this._touchBegan=s(this._touchBegan,this),o.__super__.constructor.call(this,this._presentation),this._pageQueue=[],this._canChangePage=!0,this._presentation.on("pageWillChange",this._pageWillChange),this._presentation.on("pageDidChange",this._pageDidChange),this._nextPageButton=$("#nextPageButton"),this._nextPageButton.show(),this._prevPageButton=$("#prevPageButton"),this._prevPageButton.show(),this._nextPageIcon=$("#nextPageIcon"),this._prevPageIcon=$("#prevPageIcon"),this._viewer=$(".js-viewer"),this._showPageControls(6e3),this._nextPageButton.mouseup((e=this,function(){return e._queueNext()})),this._prevPageButton.mouseup((i=this,function(){return i._queuePrev()})),this._nextPageButton.touchend((n=this,function(){return n._queueNext()})),this._prevPageButton.touchend((r=this,function(){return r._queuePrev()})),this._carousel.mousemove(this._mouseMoved),this._carousel.touchstart(this._touchBegan)}return i(o,t),o.MAX_PAGE_QUEUE_LENGTH=1,o.SLIDE_IMPULSE=10,o.prototype._showPageControls=function(t){var e,i,n;return null==t&&(t=2e3),i=this._presentation.currentPageIndex,e=this._presentation.pages.length,this._fadeoutTimer&&clearTimeout(this._fadeoutTimer),this._showPrevPageControl(0<i),this._showNextPageControl(i<e-1),this._fadeoutTimer=setTimeout((n=this,function(){return n._showPrevPageControl(!1),n._showNextPageControl(!1)}),t)},o.prototype._showPrevPageControl=function(t){return t&&!this._isPrevPageControlShown?(this._isPrevPageControlShown=!0,this._prevPageIcon.stop().fadeTo(400,1)):!t&&this._isPrevPageControlShown?(this._isPrevPageControlShown=!1,this._prevPageIcon.stop().fadeTo(400,0)):void 0},o.prototype._showNextPageControl=function(t){return t&&!this._isNextPageControlShown?(this._isNextPageControlShown=!0,this._nextPageIcon.stop().fadeTo(400,1)):!t&&this._isNextPageControlShown?(this._isNextPageControlShown=!1,this._nextPageIcon.stop().fadeTo(400,0)):void 0},o.prototype._touchBegan=function(t){var e;return this._showPageControls(),2<=(null!=(e=t.originalEvent.touches)?e.length:void 0)?this._zoomGesture(t):this._panGesture(t)},o.prototype._mouseMoved=function(){return this._showPageControls()},o.prototype._zoomGesture=function(t){var m,v,e,i,n,r,o,s,a,w,y,b,P,h,u,l,c,d,p,x,S,T,_,D;return S=this._viewer.offset(),T=this._viewer.width(),x=this._viewer.height(),2===(null!=t&&null!=(e=t.originalEvent)&&null!=(i=e.touches)?i.length:void 0)&&(l=t.originalEvent.touches[0].pageX-S.left,c=t.originalEvent.touches[0].pageY-S.top,r=(l+(d=t.originalEvent.touches[1].pageX-S.left))/2,o=(c+(p=t.originalEvent.touches[1].pageY-S.top))/2,s=d-l,a=p-c,w=Math.sqrt(s*s+a*a),y=this._presentation.zoom(),h=(n=this._presentation.visibleRange())[0],u=n[1],P=n[2],b=n[3],m=h+r/T*P,v=u+o/x*b,D=this,_=function(t){var e,i,n,r,o,s,a,h,u,l,c,d,p,_,f,g;return 2===(null!=t&&null!=(e=t.originalEvent)&&null!=(i=e.touches)?i.length:void 0)&&(r=t.originalEvent.touches[0].screenX-S.left,o=t.originalEvent.touches[0].screenY-S.top,h=(r+(s=t.originalEvent.touches[1].screenX-S.left))/2,u=(o+(a=t.originalEvent.touches[1].screenY-S.top))/2,l=s-r,c=a-o,d=Math.sqrt(l*l+c*c),n=w/d,n=Math.max(y/DS.Presentation.ZOOM_MAXIMUM,n),n=Math.min(y/DS.Presentation.ZOOM_MINIMUM,n),_=P*n,p=b*n,f=m-h/T*P*n,g=v-u/x*b*n,D._presentation.setMobileZoom(f,g,_,p)),!1},$(document).on("touchmove",_),$(document).one("touchend",function(){return $(document).off("touchmove",_),!0})),!1},o.prototype._scrollBy=function(t,e){if(!this._presentation.scrollBy(t,e)&&(t<0&&this._queuePrev(),0<t))return this._queueNext()},o.prototype._queueNext=function(){return this._queuePageChange(1),!1},o.prototype._queuePrev=function(){return this._queuePageChange(-1),!1},o.prototype._queuePageChange=function(t){var e;if(this._pageQueue.length<this.constructor.MAX_PAGE_QUEUE_LENGTH&&this._canChangePage&&0<=(e=this._presentation.currentPageIndex+t)&&e<this._presentation.pages.length)return this._pageQueue.push(t),1===this._pageQueue.length&&(0<t&&this._presentation.goToNextPage(),t<0&&this._presentation.goToPrevPage()),!1},o.prototype._pageWillChange=function(){return this._canChangePage=!1,setTimeout((t=this,function(){return t._canChangePage=!0}),200);var t},o.prototype._pageDidChange=function(){var t;return this._showPageControls(),0<this._pageQueue.length&&(this._pageQueue.shift(),0<this._pageQueue.length&&(0<(t=this._pageQueue[0])&&this._presentation.goToNextPage(),t<0&&this._presentation.goToPrevPage())),!1},o}(DS.PresentationControls),DS.Functions["export"](function(t){return t.HorizontalPresentationControls=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(t){this._presentation=t,this._queuePrev=i(this._queuePrev,this),this._queueNext=i(this._queueNext,this),this._scrollBy=i(this._scrollBy,this),e.__super__.constructor.call(this,this._presentation)}return n(e,t),e.prototype._scrollBy=function(t,e){return this._presentation.scrollBy(t,e)},e.prototype._queueNext=function(){return!1},e.prototype._queuePrev=function(){return!1},e}(DS.PresentationControls),DS.Functions["export"](function(t){return t.VerticalPresentationControls=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(t){this.scaleToFit=i(this.scaleToFit,this),this._showErrorImage=i(this._showErrorImage,this),this._showSuccessImage=i(this._showSuccessImage,this),this._handlePageDataError=i(this._handlePageDataError,this),this.height=i(this.height,this),this.width=i(this.width,this),e.__super__.constructor.call(this,t),this._errorImg=this._item.children(".error-view"),this._loadingImg=this._item.find(".loading-gif"),this._preloadStarted=!1,this.refresh()}return n(e,t),e._scaleToFit=!0,e._zoom=1,e._viewLoadTime=$(".js-header-bar-container").data("view-load-time"),e.prototype.width=function(){var t;return t=0,null!=this._img&&(t=this._img.width),t},e.prototype.height=function(){var t;return t=0,null!=this._img&&(t=this._img.height),t},e.prototype.isTracked=function(){return!0},e.prototype.preload=function(){return!this._preloadStarted&&(this._preloadStarted=!0,this._loadPage(this._retryLimit),!0)},e.prototype._loadPage=function(t){return this._url?new DS.RetryAJAX({url:this._url,dataType:"json",data:{viewLoadTime:this.constructor._viewLoadTime},success:this._digestPageData,error:this._handlePageDataError,retryLimit:t}):this._showSuccessImage("//:0")},e.prototype._handlePageDataError=function(t,e,i,n){var r,o,s;return this._logPageDataError(t,e,i),this._showErrorImage(),r="reload"===(null!=n&&null!=(s=n.responseJSON)?s.message:void 0)?"loading":"access",o={pagenum:this._pagenum,type:r},this.trigger("imageLoadError",o)},e.prototype._showSuccessImage=function(t){return this._loadingImg.fadeOut(),this._imgElement.attr("src",t),this.refresh(),this._imgElement.fadeIn(400,(e=this,function(){var t;return t={pagenum:e._pagenum},e.trigger("pageDidLoad",t),DS.MessageBus.trigger("DS.PresentationPage.onShowSuccessImage",{pageNum:e._pagenum})}));var e},e.prototype._showErrorImage=function(){return this._loadingImg.fadeOut(),this._imgElement.fadeOut(),this._errorImg.fadeIn(),this._presoView=this._errorImg,this.refresh()},e.prototype._linkHandler=function(t){return new DS.LinkHandler(t.uri,t.trackedUrl)},e.prototype._clickLink=function(t,e){return e.click(),!1},e.prototype.scaleToFit=function(){if(!this.constructor._scaleToFit)return this.constructor._scaleToFit=!0,this.refresh(),this.trigger("zoomDidChange",{zoom:this.constructor._zoom,fit:!0})},e}(DS.AbstractPage),DS.Functions["export"](function(t){return t.PresentationPage=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(t){this.displayDocumentMedia=i(this.displayDocumentMedia,this),this._scroll=i(this._scroll,this),this._setPresoCss=i(this._setPresoCss,this),this._updateItemHeight=i(this._updateItemHeight,this),this.zoomOut=i(this.zoomOut,this),this.zoomIn=i(this.zoomIn,this),this._setVisibleRange=i(this._setVisibleRange,this),this.refresh=i(this.refresh,this),e.__super__.constructor.call(this,t),this._item.on("scroll",this._scroll),this._scrollAnchorX=.5,this._scrollAnchorY=0}return n(e,t),e.prototype.refresh=function(){var t,e,i,n,r,o,s,a;if(!DS.Browser.isAndroid()||!$("input, textarea").is(":focus"))return n=(e=$(".js-viewer")).width(),i=e.height(),t=this.width(),this._updateItemHeight(i),0<t?(this.constructor._scaleToFit&&(this.constructor._zoom=this._scaleToFitZoom()),o=n/this.constructor._zoom,r=i/this.constructor._zoom,s=this._scrollAnchorX*(this.width()-o),a=this._scrollAnchorY*(this.height()-r),this._setVisibleRange(s,a,o,r)):void 0},e.prototype._setVisibleRange=function(t,e,i,n){var r,o,s,a,h,u,l,c,d,p,_;return s=this.width(),o=this.height(),(d=this.constructor._zoom)<(r=this._scaleToFitZoom())&&!this.constructor._scaleToFit&&(d=r,this.constructor._scaleToFit=!0,this.trigger("zoomDidChange",{zoom:r,fit:!0})),s<=i?t=-Math.round(.5*i-s/2):-t+s<i?t=-(i-s):0<-t&&(t=0),o<=n?e=-Math.round(.5*n-o/2):-e+o<n?e=-(n-o):0<-e&&(e=0),h=-t*d,u=-e*d,this._setPresoCss(h,u,o,d),l=-Math.min(0,h),c=-Math.min(0,u),this.setScrollOffset(l,c),this._updateScrollAnchor(t,e,i,n),p=o*d,_=s*d,this.displayLinks(p,_),a={imageHeight:p,imageWidth:_,imageLeft:h,imageTop:u},this.displayDocumentMedia(a),this.displayDocumentFields(a)},e.prototype.scrollBy=function(t,e){var i,n,r;return n=(i=this.scrollOffset())[0],r=i[1],this.setScrollOffset(n+t,r+e)},e.prototype.canScrollBy=function(t,e){var i,n,r,o,s,a,h,u;return o=this._item.prop("scrollWidth")-this._item.innerWidth(),s=this._item.prop("scrollHeight")-this._item.innerHeight(),i=!1,(h=(n=(a=this.scrollOffset())[0])+t)!==n&&(h<0&&0<n||0<=h&&h<=o||o<h&&n<o)&&(i=!0),(u=(r=a[1])+e)!==r&&(u<0&&0<r||0<=u&&u<=s||s<u&&r<s)&&(i=!0),i},e.prototype.visibleRange=function(){var t,e,i,n,r,o;return o=$(".js-viewer"),t=parseFloat(this._presoView.css("left")),e=parseFloat(this._presoView.css("top")),n=(i=this.scrollOffset())[0],r=i[1],[(n-t)/this.constructor._zoom,(r-e)/this.constructor._zoom,o.width()/this.constructor._zoom,o.height()/this.constructor._zoom,this.constructor._zoom]},e.prototype.setScrollOffset=function(t,e){var i,n,r,o,s,a;return o=this._item.prop("scrollWidth")-this._item.innerWidth(),s=this._item.prop("scrollHeight")-this._item.innerHeight(),i=(a=this.scrollOffset())[0],n=a[1],r=!1,t!==i&&(t<0&&0<i&&(this._item.scrollLeft(0),r=!0),0<=t&&t<=o&&(this._item.scrollLeft(t),r=!0),o<t&&i<o&&(this._item.scrollLeft(o),r=!0)),e!==n&&(e<0&&0<n&&(this._item.scrollTop(0),r=!0),0<=e&&e<=s&&(this._item.scrollTop(e),r=!0),s<e&&n<s&&(this._item.scrollTop(s),r=!0)),r},e.prototype.scrollOffset=function(){return[this._item.scrollLeft(),this._item.scrollTop()]},e.prototype._setZoom=function(t,e,i){var n,r,o,s,a,h,u,l,c,d,p;if(!isNaN(parseFloat(t))&&isFinite(t))return h=this.constructor._zoom,n=this._scaleToFitZoom(),h||(h=n),c=(p=this.visibleRange())[0],d=p[1],l=p[2],u=p[3],this.constructor._zoom=Math.max(n,Math.min(DS.Presentation.ZOOM_MAXIMUM,t)),o=l*h/this.constructor._zoom,r=u*h/this.constructor._zoom,null!=e&&null!=i?(s=e,a=i):(s=c+l/2-o/2,a=d+u/2-r/2),this._setVisibleRange(s,a,o,r),this.constructor._zoom===n?this.constructor._scaleToFit=!0:this.constructor._scaleToFit=!1,this.trigger("zoomDidChange",{zoom:this.constructor._zoom,fit:this.constructor._scaleToFit})},e.prototype.setMobileZoom=function(t,e,i,n){var r,o;return o=((r=$(".js-viewer")).width()/i+r.height()/n)/2,this._setZoom(o,t,e)},e.prototype.zoom=function(){return this.constructor._zoom},e.prototype.zoomIn=function(){return this._setZoom((Math.round(10*this.constructor._zoom)+1)/10)},e.prototype.zoomOut=function(){var t,e;return(e=(Math.round(10*this.constructor._zoom)-1)/10)<(t=this._scaleToFitZoom())&&(e=t),this._setZoom(e)},e.prototype._scaleToFitZoom=function(){var t,e,i,n,r;return i=(t=$(".js-viewer")).width(),e=t.height(),n=i/this.width(),r=e/this.height(),Math.min(n,r)},e.prototype._updateItemHeight=function(t){return $(".item").css({width:"",height:t+"px",overflow:"auto"})},e.prototype._setPresoCss=function(t,e,i,n){return this._presoView.css({width:"",height:i*n+"px","max-width":"none","max-height":"none"}),this._item.find(".js-viewer_content-wrapper").css({left:Math.max(0,t)+"px",top:Math.max(0,e)+"px",width:this.width()*n+"px",height:i*n+"px","max-width":"none","max-height":"none"})},e.prototype._scroll=function(){var t,e,i,n,r;return n=(t=this.visibleRange())[0],r=t[1],i=t[2],e=t[3],this._updateScrollAnchor(n,r,i,e)},e.prototype._updateScrollAnchor=function(t,e,i,n){var r,o;return o=this.width(),r=this.height(),this._scrollAnchorX=o<=i?.5:Math.min(1,Math.max(0,t)/(o-i)),this._scrollAnchorY=r<=n?.5:Math.min(1,Math.max(0,e)/(r-n))},e.prototype.displayDocumentMedia=function(r){return null==r&&(r={}),this._docMedia.each((o=this,function(t){var e,i,n;return e=t.medium,i=t.mediumImg,n=o._calculateMediaPosition(e,r),$(i).css({height:e.height*r.imageHeight+"px",width:e.width*r.imageWidth+"px",top:n.top+"px",left:n.left+"px",position:"absolute",transform:o._docMediaCssTransformEffects(e),"z-index":e.zIndex,"backface-visibility":"hidden"}),o._docMediaContainer.append(i)}));var o},e}(DS.PresentationPage),DS.Functions["export"](function(t){return t.HorizontalPage=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(t){this.displayDocumentFields=i(this.displayDocumentFields,this),this.displayDocumentMedia=i(this.displayDocumentMedia,this),this.displayLinks=i(this.displayLinks,this),this.refresh=i(this.refresh,this),this.isMajorityPage=i(this.isMajorityPage,this),this.getBoundingClientRect=i(this.getBoundingClientRect,this),this.isLoading=i(this.isLoading,this),this.getTop=i(this.getTop,this),e.__super__.constructor.call(this,t),this._item.addClass("active"),this._thumbWidth=this._item.attr("data-thumb-width"),this._thumbHeight=this._item.attr("data-thumb-height"),this._viewport=this._item.closest(".js-viewer")}return n(e,t),e.PAGE_BOTTOM_MARGIN=10,e.prototype.getTop=function(){return this._item.position().top},e.prototype.isLoading=function(){return this._loadingImg.is(":visible")},e.prototype.getBoundingClientRect=function(){return this._item[0].getBoundingClientRect()},e.prototype.isMajorityPage=function(){var t,e,i,n;return e=this._viewport.height(),t=Math.round(e/2)+this._viewport.scrollTop(),i=(n=this._item.position().top)+this._item.height(),n<t&&t<i},e.prototype.refresh=function(t){var e,i;if(null!=t){if(this.width()&&this.height()?(i=t/this.width(),e=Math.round(i*this.height())):null!=this._thumbWidth&&null!=this._thumbHeight&&(i=t/this._thumbWidth,e=Math.round(i*this._thumbHeight)),this._item.css("height",e),!this._item.is(":last-child"))return this._item.css("margin-bottom",10)}else if(this.width()&&this.height())return i=this._item.width()/this.width(),this._item.css("height",Math.round(i*this.height()))},e.prototype.displayLinks=function(){return e.__super__.displayLinks.call(this,this._item.height(),this._item.width())},e.prototype.displayDocumentMedia=function(){var t;return t={imageHeight:this._imgElement.height(),imageWidth:this._imgElement.width(),imageLeft:this._imgElement.position().left,imageTop:this._imgElement.position().top},e.__super__.displayDocumentMedia.call(this,t)},e.prototype.displayDocumentFields=function(){var t;return t={imageHeight:this._imgElement.height(),imageWidth:this._imgElement.width(),imageLeft:this._imgElement.position().left,imageTop:this._imgElement.position().top},e.__super__.displayDocumentFields.call(this,t)},e}(DS.PresentationPage),DS.Functions["export"](function(t){return t.VerticalPage=e})}.call(this),function(){var e,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(t){e.__super__.constructor.call(this,t),this._presoView=$("<div></div>").css({top:0,left:0})}return i(e,t),e.prototype.zoomIn=function(){},e.prototype.zoomOut=function(){},e.prototype.preload=function(){return!1},e}(DS.HorizontalPage),DS.Functions["export"](function(t){return t.AdditionalHorizontalPage=e})}.call(this),function(){var e,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.zoomIn=function(){},e.prototype.zoomOut=function(){},e.prototype.preload=function(){return!1},e}(DS.VerticalPage),DS.Functions["export"](function(t){return t.AdditionalVerticalPage=e})}.call(this),function(){var e,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(t){e.__super__.constructor.call(this,t),this._presoView=$("<div></div>").css({top:0,left:0})}return i(e,t),e.prototype.isTracked=function(){return!1},e}(DS.AdditionalHorizontalPage),DS.Functions["export"](function(t){return t.AdditionalUntrackedHorizontalPage=e})}.call(this),function(){var e,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.isTracked=function(){return!1},e}(DS.AdditionalVerticalPage),DS.Functions["export"](function(t){return t.AdditionalUntrackedVerticalPage=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(){this._refresh=i(this._refresh,this),this.removeHandler=i(this.removeHandler,this),this._viewer=$(".js-viewer"),$(window).on("resize",this._refresh),this._refresh(),this._viewer.fadeIn()}return t.NO_HEADER_HEIGHT_LIMIT=400,t.prototype.removeHandler=function(){return $(window).off("resize",this._refresh)},t.prototype._refresh=function(){var t,e,i;return e=(i=$(window)).width(),(t=i.height())>this.constructor.NO_HEADER_HEIGHT_LIMIT&&(t-=$(".js-header-bar-container").height()),this._viewer.width(e),this._viewer.height(t)},t.prototype.showErrorModal=function(){return $("#error-message .modal-header h4").html("Oops, this content isn't ready yet"),$("#access-error").html("Come back in a little bit. It'll be ready soon&hellip;"),$("#loading-error").hide(),$("#cookie-error").hide(),$(".js-error-modal_footer").hide(),$(".loading-gif").hide(),$("#access-error").show(),$("#error-message").modal()},t}(),DS.Functions["export"](function(t){return t.DummyPresentation=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(){var r,t,o;this._addSignaturePage=i(this._addSignaturePage,this),this._addStatsPage=i(this._addStatsPage,this),this._pageDidChange=i(this._pageDidChange,this),this._imageLoadError=i(this._imageLoadError,this),this.refresh=i(this.refresh,this),this.denyAccess=i(this.denyAccess,this),e.__super__.constructor.call(this),this._viewer.carousel({interval:!1}),this._viewer.addClass("overflow-hidden"),this._viewer.on("slid.bs.carousel",this._pageDidChange),this._viewer.find(".item").first().addClass("active"),this.pages=function(){var t,e,i,n;for(n=[],t=0,e=(i=this._viewer.find(".item")).length;t<e;t++)r=i[t],n.push(new DS.HorizontalPage(r));return n}.call(this),this._addSignaturePage(),this._addStatsPage(),this._setupAndStartPreloading(),(t=$(window)).on("resize",this.refresh),t.on("orientationchange",this.refresh),this.refresh(),this._active=!0,DS.MessageBus.on("DS.SignableDocumentViewer.changePage",(o=this,function(t){var e,i,n;return i=t.pageNumber,(e=null!=(n=t.delayScroll)&&n)?setTimeout(function(){return o.setPageIndex(parseInt(i),e)},250):o.setPageIndex(parseInt(i),e)}))}return n(e,t),e.prototype.initialCanZoomOut=function(){return!1},e.prototype.setPageIndex=function(t){var e;if(this._active&&(4<Math.abs(t-this.currentPageIndex)&&(this._pageLoadQueue=[]),t!==this.currentPageIndex))return e=!1,this.pages[t].isTracked()||(e=!0),this.trigger("pageWillChange",{page:t,fromPage:this.currentPageIndex,exempt:e}),this._startPreloading(t),this.currentPageIndex=t,this._viewer.carousel(this.currentPageIndex),this.currentPage().refresh()},e.prototype.denyAccess=function(){return this._active=!1,e.__super__.denyAccess.call(this)},e.prototype.goToNextPage=function(){return this.setPageIndex(this.currentPageIndex+1)},e.prototype.goToPrevPage=function(){return this.setPageIndex(this.currentPageIndex-1)},e.prototype.refresh=function(){var t,e,i;return e=(i=$(window)).width(),(t=i.height())>this.constructor.NO_HEADER_HEIGHT_LIMIT&&(t-=$(".js-header-bar-container").height()),t-=$(".js-presentation-privacy-policy").outerHeight(),this._viewer.width(e),this._viewer.height(t),this.currentPage().refresh()},e.prototype._imageLoadError=function(t){return this._active=!1,e.__super__._imageLoadError.call(this,t)},e.prototype._pageDidChange=function(){return this.trigger("pageDidChange",{page:this.currentPageIndex})},e.prototype._addStatsPage=function(){if(this._statsChart.length)return this._statsChart.addClass("item"),this.pages.push(new DS.AdditionalUntrackedHorizontalPage(this._statsChart))},e.prototype._addSignaturePage=function(){if(this._signaturePage.length)return this._signaturePage.addClass("item"),this.pages.push(new DS.AdditionalHorizontalPage(this._signaturePage))},e.prototype.zoom=function(){return this.currentPage().zoom()},e.prototype.setScrollOffset=function(t,e){return this.currentPage().setScrollOffset(t,e)},e.prototype.scrollOffset=function(){return this.currentPage().scrollOffset()},e.prototype.scrollBy=function(t,e){return this.currentPage().scrollBy(t,e)},e.prototype.canScrollBy=function(t,e){return this.currentPage().canScrollBy(t,e)},e.prototype.setMobileZoom=function(t,e,i,n){return this.currentPage().setMobileZoom(t,e,i,n)},e.prototype.visibleRange=function(){return this.currentPage().visibleRange()},e}(DS.Presentation),DS.Functions["export"](function(t){return t.HorizontalPresentation=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e=function(t){function n(t,e){var r,o;this._presentationConfig=t,null==e&&(e=""),this._addSignaturePage=i(this._addSignaturePage,this),this._addStatsPage=i(this._addStatsPage,this),this._updateViewerHeight=i(this._updateViewerHeight,this),this.scrollBy=i(this.scrollBy,this),this.zoomOut=i(this.zoomOut,this),this.zoomIn=i(this.zoomIn,this),this.scaleToFit=i(this.scaleToFit,this),this.refresh=i(this.refresh,this),this.setPageIndex=i(this.setPageIndex,this),this._pageInMajority=i(this._pageInMajority,this),this._checkCurrentPage=i(this._checkCurrentPage,this),this._pageDidLoad=i(this._pageDidLoad,this),this._setNewWidth=i(this._setNewWidth,this),this._firePageDidChange=i(this._firePageDidChange,this),this._firePageWillChange=i(this._firePageWillChange,this),this._checkPageChanged=i(this._checkPageChanged,this),this._onWindowResize=i(this._onWindowResize,this),this._updateZoomRange=i(this._updateZoomRange,this),this._setUpViewer=i(this._setUpViewer,this),this._enableScrolling=i(this._enableScrolling,this),this._disableScrolling=i(this._disableScrolling,this),this._startPollingForPageChange=i(this._startPollingForPageChange,this),this._customFieldNdaPreview="customFieldNdaPreview"===e,this._initialWidthPercent=this._presentationConfig.customFieldNda&&!this._presentationConfig.preview||this._customFieldNdaPreview?.95:this.constructor.INITIAL_WIDTH_PERCENT,n.__super__.constructor.call(this),this._customFieldNdaPreview&&(this._viewer=$(".js-custom-field-nda-preview-viewer")),DS.PageVisibility.on("hide",this._disableScrolling),DS.PageVisibility.on("show",this._enableScrolling),DS.PageVisibility.visible()||this._disableScrolling(),this._viewer.addClass("vertical"),$("body.presentation").addClass("vertical"),this._zoomWidthMin=this._viewer.width(),this._zoomWidthMax=-1,this._zoomWidthFit=-1,this.pages=function(){var t,e,i,n;for(n=[],t=0,e=(i=this._viewer.find(".item")).length;t<e;t++)r=i[t],n.push(new DS.VerticalPage(r));return n}.call(this),this._addSignaturePage(),this._addStatsPage(),this._setUpViewer(),this._setupAndStartPreloading(),$(window).resize(this._onWindowResize.debounce(300)),this._checkCurrentPage(),this._startPollingForPageChange(),DS.MessageBus.on("DS.SignableDocumentViewer.changePage",(o=this,function(t){var e,i,n;return i=t.pageNumber,e=null!=(n=t.delayScroll)&&n,o.setPageIndex(parseInt(i),e)})),DS.MessageBus.on("DS.VerticalPresentation.setUpViewer",this._setUpViewer)}return r(n,t),n.INITIAL_WIDTH_PERCENT=.7,n.prototype._startPollingForPageChange=function(){return null!=this._currentPagePoller&&clearInterval(this._currentPagePoller),this._currentPagePoller=setInterval(this._checkCurrentPage,200)},n.prototype._preventDefault=function(t){return(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1},n.prototype._disableScrolling=function(){if(window.addEventListener&&window.addEventListener("DOMMouseScroll",this._preventDefault,!1),window.onwheel=this._preventDefault,window.onmousewheel=document.onmousewheel=this._preventDefault,window.onscroll=this._preventDefault,null!=this._currentPagePoller)return clearInterval(this._currentPagePoller)},n.prototype._enableScrolling=function(){return window.removeEventListener&&window.removeEventListener("DOMMouseScroll",this._preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.onscroll=null,this._startPollingForPageChange()},n.prototype._setUpViewer=function(){var t;return t=Math.round(this._viewer.width()*this._initialWidthPercent),this._pagesContainer=this._viewer.find(".js-carousel-inner"),this._pagesContainer.css("width",t),this._onWindowResize(),this._viewer.fadeIn(),this.refresh(t)},n.prototype._updateZoomRange=function(t){var e,i,n,r,o;if(null!=t)return(r=t.width())>this._zoomWidthMax&&(this._zoomWidthFit=r,this._zoomWidthMax=2*r),n=t.height(),e=(this._viewer.height()-$(".js-presentation-privacy-policy").outerHeight())/n,(i=Math.round(r*e))<this._zoomWidthMin&&(this._zoomWidthMin=i),o=Math.round(this._viewer.width()*this._initialWidthPercent),this._zoomWidthMin>o&&(this._zoomWidthMin=o),this._zoomWidthMin>this._pagesContainer.width()?(this.trigger("zoomDidChange",{fit:!0}),this._setNewWidth(this._zoomWidthMin)):this.trigger("zoomDidChange",{fit:!1})},n.prototype._onWindowResize=function(){var t;return t=this._viewer.width(),this._updateViewerHeight(),Math.round(t*this._initialWidthPercent)>this._zoomWidthMin&&(this._zoomWidthMin=t),this._updateZoomRange(this.pages[this.currentPageIndex])},n.prototype._checkPageChanged=function(t,e){var i;if(i=this.pages[e],0<=t&&0<=e&&e!==t&&(this._firePageWillChange(t,e),null!=i&&!i.isLoading()))return this.currentPageIndex=e,this._firePageDidChange(e)},n.prototype._firePageWillChange=function(t,e){var i;return i=!1,this.pages[e].isTracked()||(i=!0),this.trigger("pageWillChange",{page:e,fromPage:t,exempt:i})},n.prototype._firePageDidChange=function(t){return this.trigger("pageDidChange",{page:t})},n.prototype._setNewWidth=function(t,e){var i,n,r;return(r=this._pagesContainer.width())!==t&&(this._pagesContainer.css("width",t),null==e&&(e=t/r),n=e*this._viewer.scrollTop(),this._viewer.scrollTop(n),i=this._viewer.scrollLeft(),this._viewer.scrollLeft(i*e),this.refresh(t))},n.prototype._pageDidLoad=function(t){var e,i;if(n.__super__._pageDidLoad.call(this,t),i=t.pagenum-1,e=this.pages[i],this._updateZoomRange(e),e.isMajorityPage())return this._checkPageChanged(this.currentPageIndex,i)},n.prototype._checkCurrentPage=function(){var t,e,i,n;for(t=0,e=(n=this.pages).length;t<e;t++)if((i=n[t]).isMajorityPage())return void this._pageInMajority(i.pageNumber())},n.prototype._pageInMajority=function(t){var e,i;return e=t-1,0<=(i=this.currentPageIndex)&&0<=e&&e!==i&&(e<i?this._startPreloading(e,"desc"):this._startPreloading(e)),this._checkPageChanged(this.currentPageIndex,e)},n.prototype.initialCanZoomOut=function(){return!0},n.prototype.setPageIndex=function(t,e){if(null==e&&(e=!1),4<Math.abs(t-this.currentPageIndex)&&(this._pageLoadQueue=[]),!e&&t!==this.currentPageIndex)return this._checkPageChanged(this.currentPageIndex,
t),this._startPreloading(t),this._viewer.scrollTop(this.pages[t].getTop())},n.prototype.refresh=function(t){var e,i,n,r,o;for(o=[],e=0,i=(r=this.pages).length;e<i;e++)(n=r[e]).refresh(t),n.displayLinks(),n.displayDocumentMedia(),o.push(n.displayDocumentFields());return o},n.prototype.scaleToFit=function(){return window.setTimeout((e=this,function(){var t;return t=Math.round(e._viewer.width()*e._initialWidthPercent),e._setNewWidth(t)}),500);var e},n.prototype.zoomIn=function(){var t,e;return e=1.1,t=Math.min(Math.round(this._pagesContainer.width()*e),this._zoomWidthMax),this._setNewWidth(t,e),this.trigger("zoomDidChange",{zoom:t/this._zoomWidthFit,fit:!1})},n.prototype.zoomOut=function(){var t,e,i;return t=!(i=.9),(e=Math.max(Math.round(this._pagesContainer.width()*i),this._zoomWidthMin))===this._zoomWidthMin&&(t=!0),this._setNewWidth(e,i),this.trigger("zoomDidChange",{fit:t})},n.prototype.scrollBy=function(t,e){var i,n,r;return i=!1,0!==e&&(r=this._viewer.scrollTop()+e,this._viewer.scrollTop(r),i=!0),0!==t&&(n=this._viewer.scrollLeft()+t,this._viewer.scrollLeft(n),i=!0),i},n.prototype._updateViewerHeight=function(){var t,e,i;return this._presentationConfig.customFieldNda&&!this._presentationConfig.preview?0===(t=this._viewer.height())?(this._pagesContainer.css("height",""),setTimeout((i=this,function(){return t=i._viewer.height(),i._pagesContainer.css("height",t)}),10)):this._pagesContainer.css("height",t):((e=$(window).height())>this.constructor.NO_HEADER_HEIGHT_LIMIT&&(e-=$(".js-header-bar-container").height()),e-=$(".js-presentation-privacy-policy").outerHeight(),this._pagesContainer.css("height",e))},n.prototype._addStatsPage=function(){if(this._statsChart.length)return this.pages.push(new DS.AdditionalUntrackedVerticalPage(this._statsChart)),this._statsChart.height(this._viewer.height())},n.prototype._addSignaturePage=function(){if(this._signaturePage.length)return this.pages.push(new DS.AdditionalVerticalPage(this._signaturePage))},n}(DS.Presentation),DS.Functions["export"](function(t){return t.VerticalPresentation=e})}.call(this),function(){var e,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.initialCanZoomOut=function(){return!1},e.prototype.setPageIndex=function(){},e.prototype.refresh=function(){},e.prototype.scaleToFit=function(){},e.prototype.zoomIn=function(){},e.prototype.zoomOut=function(){},e.prototype.scrollBy=function(){},e.prototype.currentPageIndex=0,e}(DS.Presentation),DS.Functions["export"](function(t){return t.DownloadOnlyPresentation=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(t){if(this._onUpdateError=i(this._onUpdateError,this),this._update=i(this._update,this),this.pageNumber=i(this.pageNumber,this),this.time=i(this.time,this),null==this.constructor.linkUrl||null==this.constructor.visitUuid)throw new Error("PageView global IDs not set");this._pageNumber=t+1,this._uuid=DS.SecureRandom.uuid(),this._failures=0,this._lastSaveTime=0,this._time=0}return t.UPDATE_RETRIES=10,t.AUTO_SAVE_TRIGGER=1e4,t.linkUrl=null,t.visitUuid=null,t.prototype.addTime=function(t){if(this._time+=t,this._time-this._lastSaveTime>this.constructor.AUTO_SAVE_TRIGGER)return this._update()},t.prototype.time=function(){return this._time},t.prototype.pageNumber=function(){return this._pageNumber},t.prototype.save=function(t){return null==t&&(t=!1),this._update(t)},t.prototype._update=function(t){return null==t&&(t=!1),this._lastSaveTime=this._time,$.ajax("/presentation_analytics/record_page_view",{type:"POST",async:!t,data:{page_view_uuid:this._uuid,page:this._pageNumber,visit_uuid:this.constructor.visitUuid,link_url:this.constructor.linkUrl,time:this._time,sync:t,request_id:window.requestId},dataType:"json",error:this._onUpdateError})},t.prototype._onUpdateError=function(t){if(410!==t.status)return this._failures+=1,this._failures<=this.constructor.UPDATE_RETRIES?setTimeout(this._update,1e3):void 0},t}(),DS.Functions["export"](function(t){return t.PageView=e})}.call(this),function(){var e,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(t){this._pageNumber=t+1,this._time=0}return i(e,t),e.prototype.addTime=function(t){return this._time+=t},e.prototype.save=function(){},e}(DS.PageView),DS.Functions["export"](function(t){return t.DummyPageView=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(){this.drawStatsPageSparkline=i(this.drawStatsPageSparkline,this),this.addData=i(this.addData,this),this._pageTimes=[1,1],this._shouldRedraw=!1,this._totalTime=0}return t.prototype.addData=function(t,e){var i,n,r,o;if(this._totalTime+=e,0<t&&(this._shouldRedraw=!0),void 0!==this._pageTimes[t])return r=this._pageTimes[t]+e,this._pageTimes[t]=r;for(i=n=0,o=t;0<=o?n<o:o<n;i=0<=o?++n:--n)void 0===this._pageTimes[i]&&(this._pageTimes[i]=0);return this._pageTimes[t]=e},t.prototype.drawStatsPageSparkline=function(){var t;return t="#7cc8ea",null==this._statsPageChart?this._statsPageChart=new DS.ViewerStatsChart({element_id:"stats-page-sparkline",tooltip_enabled:!0,fill_color:t,hover_fill_color:t,initial_data:this._pageTimes}):this._statsPageChart.setData(this._pageTimes),$("#stats-time").html(DS.Functions.timeInWords(this._totalTime))},t}(),DS.Functions["export"](function(t){return t.PageStatsChart=e})}.call(this),function(){var e;e=function(){function t(t){var e,i,n,r,o,s;n=null!=(r=t.onClose)?r:function(){},s=null!=(o=t.title)?o:"Preview",i=t.message,e=$("#presentationAlert"),$("#alert-title").html(s),$("#alert-message").html(i),e.on("shown.bs.modal",function(){return e.find('a[data-dismiss="modal"]').focus()}),e.on("hide.bs.modal",n),e.modal()}return t}(),DS.Functions["export"](function(t){return t.PresentationAlert=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(){return this._onLoadBundleFolderContentsError=i(this._onLoadBundleFolderContentsError,this),e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype._bundleFolderContentsPath=function(){return Routes.bundle_presentation_view_folder_contents_path({identifier:this._bundleId,folder_identifier:this._bundleFolderId,format:"json"})},e.prototype._onLoadBundleFolderContentsError=function(t){return t.status===DS.HttpStatuses.unauthorized?(DS.MessageBus.trigger("DS.PresentationBundleFolderContents.folderContentsUnauthorized",t.responseJSON),this._removeSpinner()):e.__super__._onLoadBundleFolderContentsError.call(this,t)},e}(DS.AbstractBundleFolderContents),DS.Functions["export"](function(t){return t.PresentationBundleFolderContents=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(){return this._bundleFolderSubtreePath=i(this._bundleFolderSubtreePath,this),e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype._bundleFolderSubtreePath=function(t){return Routes.bundle_presentation_view_folder_subtree_path(this._bundleId,t,{format:"json"})},e}(DS.AbstractBundleFolderTree),DS.Functions["export"](function(t){return t.PresentationBundleFolderTree=e})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this._root=t,this._showDownloadModal=e(this._showDownloadModal,this),this._handleDownloadRequest=e(this._handleDownloadRequest,this),this._downloadModal=new DS.BundleFolderDownloadModal($(".js-bundle-folder-download-modal")),this._downloadButton=this._root.find(".js-presentation-bundle-folder-download-button"),this._downloadButton.on("click",this._handleDownloadRequest),this._bundleId=this._downloadButton.data("bundle-id"),this._bundleFolderId=this._downloadButton.data("bundle-folder-id"),this._pollingComplete=!1}return t.prototype._handleDownloadRequest=function(){var i,t,e,n,r;{if(!this._downloadButton.data("polling"))return this._downloadButton.prop("disabled",!0),t="#AAABAF",i=DS.LoadingSpinner.createSmallLoadingSpinner(t),this._spinnerStartTimeout=setTimeout(function(){return i.spin($(".js-presentation-bundle-folder-download-button-spinner")[0])},500),$.ajax({type:"POST",url:Routes.bundle_presentation_folder_snapshot_download_requests_path(this._bundleId,this._bundleFolderId,{format:"json"}),error:(r=this,function(t){var e;if(t.responseJSON.html)return $("body").append(t.responseJSON.html),e=$("#prompt"),null!=window.presentationConfig&&window.presentationConfig.customFieldNda&&new DS.PresentationController(window.presentationConfig),r._authForm=new DS.BundleAuthFormController,r._authForm.on("authorized",r._handleDownloadRequest),new DS.PromptModal(e),e.modal(),e.on("shown.bs.modal",function(t){return $(t.currentTarget).find('input[type!="hidden"]').first().focus()}),clearTimeout(r._spinnerStartTimeout),i.stop();DS.Flash.error("There was a problem with that request. Please try again in a little bit.")}),success:(n=this,function(t){return n._downloadModal.setUrl(Routes.bundle_presentation_folder_snapshot_send_download_email_path(n._bundleId,n._bundleFolderId,t.snapshot_id,"json")),n._downloadModal.setVisitor(t.visitor_data),new DS.PollingRequest({method:"GET",pollIn:1e3,pollingTimeout:9e5,url:t.url,onStart:function(){return n._downloadButton.data("polling",!0),setTimeout(function(){if(!n._pollingComplete)return n._showDownloadModal()},500)},success:function(t){return DS.FileDownloader.download(t.url)},error:function(){return DS.Flash.error("There was a problem with that request. Please try again in a little bit.")},dataError:function(t){return DS.Flash.notice(t.error)},pollingTimeoutError:function(){return DS.Flash.error("There was a problem with that request. Please try again in a little bit.")},complete:function(){return clearTimeout(n._spinnerStartTimeout),i.stop(),n._downloadButton.data("polling",!1),n._pollingComplete=!0}})}),complete:(e=this,function(){return e._downloadButton.prop("disabled",!1)})});this._showDownloadModal()}},t.prototype._showDownloadModal=function(){return this._downloadModal.showModal()},t}(),DS.Functions["export"](function(){return DS.PresentationBundleFolderDownloadButtons=t})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(t,e){this._presentation=t,this._heartbeat=i(this._heartbeat,this),this._onClose=i(this._onClose,this),this._onHide=i(this._onHide,this),this._onShow=i(this._onShow,this),this._pageDidChange=i(this._pageDidChange,this),this._pageWillChange=i(this._pageWillChange,this),this.drawStatsPageSparkline=i(this.drawStatsPageSparkline,this),this.unpauseForModal=i(this.unpauseForModal,this),this.pauseForModal=i(this.pauseForModal,this),this.stopAnalytics=i(this.stopAnalytics,this),DS.PageView.linkUrl=e.linkUrl,DS.PageView.visitUuid=e.visitUuid,this._pageViews=[],this._prevTime=(new Date).getTime(),this._heartbeatId=null,this._pageChanging=!1,this._modalShown=!1,this._pageStatsChart=new DS.PageStatsChart(this._presentation.pageCount()),this._presentation.currentPage().isTracked()?this._pageViews.push(new DS.PageView(this._presentation.currentPageIndex)):this._pageViews.push(new DS.DummyPageView(this._presentation.currentPageIndex)),DS.PageVisibility.on("show",this._onShow),DS.PageVisibility.on("hide",this._onHide),DS.PageVisibility.on("close",this._onClose),this._presentation.on("pageWillChange",this._pageWillChange),this._presentation.on("pageDidChange",this._pageDidChange),this._presentation.on("modalShown",this.pauseForModal),this._presentation.on("modalHidden",this.unpauseForModal),this._start()}return t.HEARTBEAT_INTERVAL=2e3,t.SLEEP_SENTINEL=1e4,t.prototype.stopAnalytics=function(){return this._stop(),DS.PageVisibility.off("show",this._onShow),DS.PageVisibility.off("hide",this._onHide),DS.PageVisibility.off("close",this._onClose),this._presentation.off("pageWillChange",this._pageWillChange),this._presentation.off("pageDidChange",this._pageDidChange),this._presentation.off("modalShown",this.pauseForModal),this._presentation.off("modalHidden",this.unpauseForModal)},t.prototype.pauseForModal=function(){return this._modalShown=!0,this._stop()},t.prototype.unpauseForModal=function(){return this._modalShown=!1,this._start()},t.prototype.drawStatsPageSparkline=function(){return this._pageStatsChart.drawStatsPageSparkline()},t.prototype._pageWillChange=function(t){var e;return this._pageChanging=!0,this._stop(),(e=this._pageViews[this._pageViews.length-1]).save(),this._pageStatsChart.addData(e.pageNumber()-1,e.time()),t.exempt?this._pageViews.push(new DS.DummyPageView(t.page)):this._pageViews.push(new DS.PageView(t.page))},t.prototype._pageDidChange=function(t){if(this._pageChanging=!1,this._start(),t.page===this._presentation.statsPageIndex())return DS.MessageBus.trigger("DS.PresentationAnalyticsController.pageChangedToStatsPage")},t.prototype._onShow=function(){return this._start()},t.prototype._onHide=function(){return this._stop(),this._pageViews[this._pageViews.length-1].save()},t.prototype._onClose=function(){return this._stop(),this._pageViews[this._pageViews.length-1].save(!0)},t.prototype._start=function(){if(null==this._heartbeatId&&DS.PageVisibility.visible()&&!this._pageChanging&&!this._modalShown)return this._prevTime=(new Date).getTime(),this._heartbeatId=setInterval(this._heartbeat,this.constructor.HEARTBEAT_INTERVAL)},t.prototype._stop=function(){if(null!=this._heartbeatId)return clearInterval(this._heartbeatId),this._heartbeatId=null,this._heartbeat()},t.prototype._heartbeat=function(){var t,e;if(e=(t=(new Date).getTime())-this._prevTime,this._prevTime=t,!(e>this.constructor.SLEEP_SENTINEL))return this._pageViews[this._pageViews.length-1].addTime(e)},t}(),DS.Functions["export"](function(t){return t.PresentationAnalyticsController=e})}.call(this),function(){var e,n=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(t,e){var i;this._onAjaxError=n(this._onAjaxError,this),this._onAjaxSuccess=n(this._onAjaxSuccess,this),this._submitHandler=n(this._submitHandler,this),this._config=t,this._presentation=e,t.preview?((i=$(".js-doc-chat-form")).find('input[type="submit"]').attr("disabled","disabled"),i.submit(function(){return!1})):this._wireForm()}return t.prototype._wireForm=function(){var e;return this._formElement=$(".js-doc-chat-form"),(e=this._formElement.find(".doc-chat_reply-email")).keydown(function(t){if(t.keyCode===DS.Keyboard.KeyCode.ENTER)return e.blur(),!1}),e.focusout(function(){return 0<e.val().length?e.removeClass("need-placeholder"):e.addClass("need-placeholder")}),this._formElement.on("ajax:success",this._onAjaxSuccess),this._formElement.on("ajax:error",this._onAjaxError),this._formElement.on("submit",this._submitHandler),this._formElement.find(".doc-chat_reply-icon").click(function(){return e.focus()})},t.prototype._submitHandler=function(){var t;return this._formElement.find('input[type="submit"]').attr("disabled","disabled"),$(".doc-chat_error-icon").fadeOut(),t=this._presentation.currentPageIndex+1,this._formElement.find(".doc-chat_feedback-page-number").val(t),this._config.preview||DS.AnalyticsTracker.track("sent docchat message"),!0},t.prototype._onAjaxSuccess=function(t,e){if($(".js-doc-chat-container").replaceWith(e.html),this._wireForm(),e.success)return $(".doc-chat_feedback-message").val(""),$(".doc-chat_success-icon").fadeIn(100).delay(3e3).fadeOut()},t.prototype._onAjaxError=function(t,e){if($(".doc-chat_error-icon").fadeIn(),this._formElement.find('input[type="submit"]').removeAttr("disabled"),401===e.status)return this._presentation.denyAccess()},t}(),DS.Functions["export"](function(t){return t.PresentationFeedbackController=e})}.call(this),function(){var e,r=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(t){var e,i,n;if(this._preventFormSubmit=r(this._preventFormSubmit,this),this._wireSignatureButton=r(this._wireSignatureButton,this),this._checkStatsPage=r(this._checkStatsPage,this),this._selectPage=r(this._selectPage,this),this._loadThumbs=r(this._loadThumbs,this),this._showPagePickerModal=r(this._showPagePickerModal,this),this._dismissModal=r(this._dismissModal,this),this._showSignupSuccess=r(this._showSignupSuccess,this),this._onSignupAjaxSuccess=r(this._onSignupAjaxSuccess,this),this._onSignupSubmit=r(this._onSignupSubmit,this),this._presoError=r(this._presoError,this),this._continueSetup=r(this._continueSetup,this),this._createPresentation=r(this._createPresentation,this),this._presentationConfig=t,this._linkUrl=this._presentationConfig.linkUrl,this._presentationConfig.processing)this._dummyPresentation=new DS.DummyPresentation;else{if((i=$(".js-post-signature-modal")).length)return void i.modal();this._createPresentation()}if($(".js-reload-button").click(function(){return window.location.reload()}),e="",$(".doc-chat_reply-email").focus(function(){return e=this.placeholder,this.placeholder=""}),$(".doc-chat_reply-email").blur(function(){return this.placeholder=e}),new DS.CookieDisclosureBanner({pageBottom:!0}),n=$("#prompt"),new DS.PromptModal(n),DS.SignableDocumentViewer.signingCustomFieldNda()&&new DS.NdaPromptModal(n),this._presentationConfig.preview)n.modal(),this._preventFormSubmit(),new DS.PresentationAlert({onClose:function(){return $("#prompt").modal("hide")}});else if(this._presentationConfig.prompt)return n.on("shown.bs.modal",function(t){return $(t.currentTarget).find('input[type!="hidden"]').first().focus()}),void n.modal();this._presentationConfig.processing?this._checkDocStatus():this._presentation&&this._continueSetup()}return t.prototype._createPresentation=function(){var t,e;if(DS.SignableDocumentViewer.signingCustomFieldNda()?$(".js-nda-prompt-modal").on("shown.bs.modal",(t=this,function(){return t._presentation=new DS.VerticalPresentation(t._presentationConfig),t._continueSetup()})):this._presentationConfig.isPageTrackable?this._presentationConfig.isVertical&&!DS.Browser.isMobile()?this._presentation=new DS.VerticalPresentation(this._presentationConfig):this._presentation=new DS.HorizontalPresentation:this._presentation=new DS.DownloadOnlyPresentation,this._presentationConfig.customFieldNda&&this._presentationConfig.preview)return $(".js-nda-prompt-modal").on("shown.bs.modal",(e=this,function(){return new DS.VerticalPresentation(e._presentationConfig,"customFieldNdaPreview")}))},t.prototype._continueSetup=function(){var t,e,i,n;return(this._presentationConfig.isPageTrackable||this._presentationConfig.customFieldNda)&&(this._presentationConfig.isVertical&&!DS.Browser.isMobile()?new DS.VerticalPresentationControls(this._presentation):new DS.HorizontalPresentationControls(this._presentation)),new DS.Toolbar(this._presentation,this._presentationConfig.preview),this._signableNavBar=$(".js-presentation-signable-nav-bar"),this._signableViewOnlyNavBar=$(".js-presentation-signable-view-only-nav-bar"),this._signableNavBar.length?new DS.SignableDocumentViewer(this._signableNavBar,this._presentationConfig.preview):this._signableViewOnlyNavBar.length&&new DS.ViewOnlySignableDocumentViewer(this._signableViewOnlyNavBar),this._wireSignatureButton(),(e=$(".js-signature-form").not('[data-wired="true"]')).length&&new DS.SignatureForm(e,{preview:this._presentationConfig.preview}),$(".js-doc-chat-container").length&&(this._docchatController=new DS.PresentationFeedbackController(this._presentationConfig,this._presentation)),this._presentationConfig.preview||(DS.AnalyticsTracker.track("viewed doc"),(t=$(".js-header-bar-container")).length&&t.data("custom-signable")&&DS.AnalyticsTracker.trackNoIntercom("viewed custom signable doc"),t.length&&t.data("custom-multiparty-signable")&&DS.AnalyticsTracker.trackNoIntercom("viewed multi-party custom signable doc"),this._presentationConfig.isPageTrackable&&!this._presentationConfig.customFieldNda&&(this._analytics=new DS.PresentationAnalyticsController(this._presentation,this._presentationConfig),$(".stats-chart").length&&(this._statsPageIndex=this._presentation.statsPageIndex(),this._presentation.on("pageWillChange",this._checkStatsPage),$("#stats-page-sparkline").length&&(this._analytics.drawStatsPageSparkline(),$("#stats-page-sparkline, #stats-time-text").css({opacity:0}),$(window).resize()),new DS.OauthButtonsController,this._bindSignupFormEvents()))),this._pagePickerModal=$("#page-picker-modal"),this._pagePickerModal.on("shown.bs.modal",(i=this,function(){return null!=i._analytics&&i._analytics.pauseForModal(),i._loadThumbs()})),this._pagePickerModal.on("hidden.bs.modal",(n=this,function(){return null!=n._analytics&&n._analytics.unpauseForModal(),$(".document-thumb-container").removeClass("active")})),$("#page-picker").click(this._showPagePickerModal),this._presentationConfig.preview&&DS.AnalyticsTracker.track("previewed link"),this._presentation.on("error",this._presoError)},t.prototype._presoError=function(){var t;return null!=(t=this._analytics)?t.stopAnalytics():void 0},t.prototype._bindSignupFormEvents=function(){return this._formElement=$("#signup-form"),this._formElement.submit(this._onSignupSubmit),this._formElement.on("ajax:success",this._onSignupAjaxSuccess)},t.prototype._onSignupSubmit=function(){return this._formElement.find(":submit").attr("disabled","disabled")},t.prototype._onSignupAjaxSuccess=function(t,e){return e.success?this._showSignupSuccess():($(".signup-content").replaceWith(e.html),this._bindSignupFormEvents(),this._formElement.find(":submit").removeAttr("disabled"))},t.prototype._showSignupSuccess=function(){return $(".signup-modal-content").replaceWith($("#signup-success")),$("#ok-button").click(this._dismissModal),$("#ok-button").focus()},t.prototype._dismissModal=function(){return $(".modal").modal("hide"),!1},t.prototype._showPagePickerModal=function(){return this._pagePickerModal.modal({keyboard:!0,backdrop:!0})},t.prototype._loadThumbs=function(){var t,n;return(t=this._pagePickerModal.find(".document-thumb-container").not('[data-thumb-loaded="true"]')).attr("data-thumb-loaded",!0),t.each((n=this,function(e,i){var t;if((i=$(i)).on("click",function(){return n._selectPage(e)}),t=new Image,i.append(t),$(t).on("load",function(){return $(t).fadeIn()}),$(t).on("error",function(){var t;return(t=$("<div class='flex align-items-center justify-content-center full-width full-height' style='font-size: 32px'></div>")).append($("<span>"+parseInt(e+1).toLocaleString("en")+"</span>")),i.append(t)}),i.data("thumbed"))return t.src=i.data("url")})),this._highlightThumb(this._presentation.pageIndex()),this._scrollThumbToView(this._presentation.pageIndex())},t.prototype._selectPage=function(t){return this._highlightThumb(t),this._presentation.setPageIndex(t),this._pagePickerModal.modal("hide")},t.prototype._highlightThumb=function(t){return t+=1,$(".document-thumb-container").removeClass("active"),$(".page-grid").find("[data-page-num='"+t+"']").addClass("active")},t.prototype._scrollThumbToView=function(t){var e;return(e=this._presentation.documentPageCount())<=t&&(t=e-1),t+=1,$(".page-grid").find("[data-page-num='"+t+"']").parent()[0].scrollIntoView(!1)},t.prototype._checkDocStatus=function(){var t,e,i;return t=this._presentationConfig.bundleLinkUrl?Routes.presentation_status_path({identifier:this._presentationConfig.bundleLinkUrl,bundle_document_identifier:this._linkUrl}):Routes.presentation_status_path(this._linkUrl),new DS.RetryAJAX({url:t,type:"GET",dataType:"json",retryLimit:10,success:(i=this,function(t){return"processing"===t.status?setTimeout(function(){return i._checkDocStatus()},5e3):"error"===t.status?i._dummyPresentation.showErrorModal():(i._dummyPresentation.removeHandler(),$(".presentation").html(t.content),i._presentationConfig=t.presentationConfig,i._createPresentation(),i._continueSetup())}),error:(e=this,function(){return e._dummyPresentation.showErrorModal()})})},t.prototype._checkStatsPage=function(t){if(t.page===this._statsPageIndex){if(DS.AnalyticsTracker.track("viewed stats page in viewer"),$("#stats-page-sparkline").length)return this._analytics.drawStatsPageSparkline(),$("#stats-page-sparkline, #stats-time-text").animate({opacity:1},200)}else if(t.fromPage===this._statsPageIndex&&$("#stats-page-sparkline").length)return $("#stats-page-sparkline, #stats-time-text").animate({opacity:0},200)},t.prototype._wireSignatureButton=function(){var e,i,t;if((e=$(".js-to-signature-button")).length)return e.fadeIn(),i=$(".js-signature-page").find(".page-view").data("pagenum")-1,e.on("click",(t=this,function(){return DS.AnalyticsTracker.trackNoIntercom("clicked sign document in toolbar"),t._selectPage(i)})),this._presentation.on("pageWillChange",function(t){return t.page===i?e.prop("disabled",!0):e.prop("disabled",!1)})},t.prototype._preventFormSubmit=function(){return $(".js-email-sniffing-auth-form").submit(function(t){return t.preventDefault()})},t}(),$(function(){if(null!=window.presentationConfig)return new e(window.presentationConfig)}),DS.Functions["export"](function(t){return t.PresentationController=e})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this._loadThumbs=e(this._loadThumbs,this),this._closeDrawer=e(this._closeDrawer,this),this._tabClicked=e(this._tabClicked,this),this._drawer=$(".js-init-drawer-controller"),this._tab=$(".js-drawer_tab"),DS.Functions.addClickOrTouchListener(this._tab,this._tabClicked)}return t.prototype._tabClicked=function(t){if(this._drawer.hasClass("drawer--expanded")?($(document).off("click",this._closeDrawer),this._drawer.removeClass("drawer--expanded")):(DS.AnalyticsTracker.trackNoIntercom("opened space drawer"),$(document).on("click",this._closeDrawer),this._drawer.addClass("drawer--expanded"),this._loadThumbs()),DS.Browser.isIE())return t.returnValue=!1},t.prototype._closeDrawer=function(){if(!$(event.target).closest(".drawer").length)return this._tabClicked()},t.prototype._loadThumbs=function(){var t;return(t=this._drawer.find(".document-thumb-container").not('[data-thumb-loaded="true"]')).attr("data-thumb-loaded",!0),t.each(function(t,e){var i;if((e=$(e)).data("thumbed")&&null!=e.data("url"))return(i=new Image).src=e.data("url"),e.append(i),$(i).on("load",function(){return $(i).animate({opacity:1})}),$(i).on("error",function(){if("contentTextDoc"===e.data("thumbnail-fallback-svg"))return e.addClass("presentation-content-icon presentation-content-icon--text"),e.fadeIn()}),$(i).addClass("drawer_thumb")}),this._drawer.find(".drawer_link--active")[0].scrollIntoView()},t}(),$(function(){if($(".js-init-drawer-controller").length)return new t})}.call(this),function(){var t,n=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){var e,i;this._config=t,this._reauthorize=n(this._reauthorize,this),this._onAuthorized=n(this._onAuthorized,this),this._onPreviewClose=n(this._onPreviewClose,this),this._resultsLoaded=n(this._resultsLoaded,this),this._initSearchbar=n(this._initSearchbar,this),this._loadHeaderImage(),this._loadLogo(),this._initSearchbar(),this._loadThumbs(),new DS.ContactCardController,this._config.preview&&(DS.AnalyticsTracker.trackNoIntercom("previewed space"),new DS.PresentationAlert({onClose:this._onPreviewClose})),this._config.authorized?(this._initBundleFolder(),e=$(".js-bundle-navigator"),new DS.BundleNavigator(e)):(this._authForm=new DS.BundleAuthFormController,this._authForm.on("authorized",this._onAuthorized),i=$("#prompt"),new DS.PromptModal(i),i.modal(),this._config.preview||i.on("shown.bs.modal",function(t){return $(t.currentTarget).find('input[type!="hidden"]').first().focus()})),new DS.CookieDisclosureBanner({pageBottom:!0}),DS.MessageBus.on("ds.widgets.DetachedSearchbar.resultsLoaded",this._resultsLoaded),DS.MessageBus.on("ds.bundleFolderContents.folderContentsLoaded",this._loadThumbs),DS.MessageBus.on("DS.PresentationBundleFolderContents.folderContentsUnauthorized",this._reauthorize),new DS.PresentationBundleFolderDownloadButtons($(":root"))}return t.prototype._initSearchbar=function(){return this._detachedSearchbar=new DS.DetachedSearchbar},t.prototype._initBundleFolder=function(t){var e;if(new DS.PresentationBundleFolderContents($(".js-bundle-folder-contents"),{setupEventListeners:t}),(e=$(".js-bundle-folder-tree")).length)return new DS.PresentationBundleFolderTree(e,{setupEventListeners:t})},t.prototype._resultsLoaded=function(){return this._loadThumbs(),$(".js-clear-results").click((t=this,function(){return t._detachedSearchbar.clearSearch()}));var t},t.prototype._loadHeaderImage=function(){var t,e,i;if(!(DS.Browser.ieVersion()<=8))return i=$(".js-bundle-header_image"),e=i.data("href"),t=new Image,$(t).attr("src",e).on("load",function(){return i.css("background-image","url("+e+")"),i.fadeIn()})},t.prototype._loadLogo=function(){var t,e,i;return t=$(".js-bundle-header_logo"),i=t.data("href"),e=new Image,$(e).attr("src",i).on("load",function(){return t.hide(),t.html("<img />"),t.find("img").attr("src",i),t.fadeIn()})},t.prototype._loadThumbs=function(){var t;return(t=$(".bundle-viewer").find(".document-thumb-container").not('[data-thumb-loaded="true"]')).attr("data-thumb-loaded",!0),t.each(function(t,e){var i;if((e=$(e)).data("thumbed")&&null!=e.data("url"))return e.addClass("no-show"),i=new Image,$(i).on("load",function(){return e.css("background-image","url("+e.data("url")+")"),e.fadeIn()}),$(i).on("error",function(){if("contentTextDoc"===e.data("thumbnail-fallback-svg"))return e.addClass("presentation-content-icon presentation-content-icon--text"),e.parent().removeClass("square-thumb--thumbnailed"),e.fadeIn()}),i.src=e.data("url"),$(i).addClass("bundle-document_thumb-img")})},t.prototype._onPreviewClose=function(){if($("#prompt").modal("hide"),!this._config.authorized)return $.ajax({method:"POST",data:{bundle_auth_form:{email:null,passcode:null}},success:this._onAuthorized,error:function(){return DS.Flash.notice("There was a problem previewing your Space. Please reload the page.")}})},t.prototype._onAuthorized=function(t,e,i){var n,r,o,s,a,h;return null==e&&(e=!0),null==i&&(i=!0),a=$(".bundle-viewer"),r=$(".js-bundle-navigator"),s=$(".js-bundle-header_titles"),i?(s.fadeOut(function(){return s.replaceWith(t.titles_html).fadeIn()}),a.fadeOut((h=this,function(){return a.replaceWith(t.viewer_html).fadeIn(),h._loadThumbs(),h._initSearchbar(),h._initBundleFolder(e),new DS.BundleNavigator(r,{setupEventListeners:e}),$('[data-rel="tooltip"]').tooltip()}))):(o=r.find(".js-bundle-folder-tree_folder--selected").data("bundle-folder-id"),n=r.find(".js-bundle-folder-tree_folder--selected .js-bundle-folder-tree_folder-link").data("ancestor-ids"),DS.MessageBus.trigger("ds.bundleNavigator.navigatedToFolder",{bundleFolderId:o,ancestorIds:n}))},t.prototype._reauthorize=function(t){var e,i;return $("#prompt").remove(),$("body").append(t.authPromptHtml),e=$("#prompt"),null!=window.presentationConfig&&window.presentationConfig.customFieldNda&&new DS.PresentationController(window.presentationConfig),this._authForm=new DS.BundleAuthFormController,this._authForm.on("authorized",(i=this,function(t){return i._onAuthorized(t,!1,!1)})),new DS.PromptModal(e),e.modal()},t}(),$(function(){if(null!=window.bundlePresentationConfig)return new t(window.bundlePresentationConfig)})}.call(this),function(){var t;t=function(){function t(){DS.AnalyticsTracker.trackNoIntercom("visited disabled link")}return t}(),$(function(){if(0<$("#visitor-disabled-link").length)return new t})}.call(this),function(){var e;e=function(){function t(t){var e,i,n,r,o,s,a;i=t.element_id,s=t.tooltip_enabled,n=t.fill_color,r=t.hover_fill_color,o=t.initial_data,e="#02a4ef",this.chart=new Highcharts.Chart({credits:{enabled:!1},chart:{renderTo:i,backgroundColor:null,type:"area",margin:[0,0,0,0],events:{load:function(){var t;return this.container.onclick=null,this.addSeries({data:[1,1]}),t=o.slice(0),this.series[0].setData(t)}}},title:"",xAxis:{title:{text:null},labels:{enabled:!1},startOnTick:!1,endOnTick:!1},yAxis:{title:{text:null},labels:{enabled:!1},gridLineWidth:0,min:0,minRange:3},legend:{enabled:!1},plotOptions:{series:{animation:!1,lineWidth:2,lineColor:e,shadow:!1,marker:{radius:0},
fillColor:n,states:{hover:{enabled:!1}},events:{mouseOver:function(){return this.update({fillColor:r})},mouseOut:function(){return this.update({fillColor:n})}}}},tooltip:{enabled:s,useHTML:!0,formatter:function(){return'<div class="sparkline-tooltip"><div class="sparkline-time">'+DS.Functions.timeInWords(this.y)+'</div><div class="sparkline-page-number">page '+(this.x+1)+"</div></div>"}}}),DS.MessageBus.on("DS.PresentationAnalyticsController.pageChangedToStatsPage",(a=this,function(){return a.chart.reflow()}))}return t.prototype.setData=function(t){var e;return e=t.slice(0),this.chart.series[0].setData(e)},t.prototype.addPoint=function(t){return this.chart.series[0].addPoint(t)},t.prototype.updatePoint=function(t,e,i){return this.chart.series[0].points[t].update(e,i)},t}(),DS.Functions["export"](function(t){return t.ViewerStatsChart=e})}.call(this),function(){var e,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(t,e){this._formElement=t,this._options=e,this._validateForm=i(this._validateForm,this),this._onSubmit=i(this._onSubmit,this),this._wireSignature=i(this._wireSignature,this),this._updateDate=i(this._updateDate,this),this._formElement.not('[data-wired="true"]').attr("data-wired",!0),this._wireSignature(),this._updateDate(),setInterval(this._updateDate,3e4),this._options.preview?(this._formElement.find('input[type="submit"]').attr("disabled","disabled"),this._formElement.submit(function(){return!1})):this._formElement.submit(this._onSubmit)}var n;return n={presence:"can't be blank",format:"must be a valid email",checked:"must be accepted"},t.prototype._updateDate=function(){return this._formElement.find(".js-signature-form_date").val((new Date).toLocaleDateString())},t.prototype._wireSignature=function(){return this._formElement.find(".js-signature-form_name").on("keyup",(e=this,function(t){return e._formElement.find(".js-signature-form_signature").text($(t.currentTarget).val())}));var e},t.prototype._onSubmit=function(t){var e,i;if(i=-1*(new Date).getTimezoneOffset(),this._formElement.find(".js-signature-form_timezone-offset").val(i),(e=this._formElement.find('input[type="submit"]')).prop("disabled",!0),!this._validateForm()||this._options.noSubmit)return t.stopPropagation(),t.preventDefault(),e.prop("disabled",!1)},t.prototype._validateForm=function(){var r,o;return this._formElement.find(".error").removeClass("error"),this._formElement.find(".js-form-error-text").empty(),r=!0,this._formElement.find(".js-needs-validation").each((o=this,function(t,i){var n;return(n=$(i)).data("validate").each(function(e){if(!function(){var t;switch(e){case"presence":return 0<n.val().trim().length;case"format":return!(null!=i&&null!=(t=i.validity)?t.typeMismatch:void 0);case"checked":return n.prop("checked")}}())return o._addErrorMessage(n,e),r=!1})})),r&&DS.MessageBus.trigger("DS.SignatureForm.validatedForm"),r},t.prototype._addErrorMessage=function(t,e){var i;return t.addClass("error"),i=$("<li></li>").html(n[e]),t.siblings(".js-form-error-text").append(i)},t}(),DS.Functions["export"](function(t){return t.SignatureForm=e})}.call(this);